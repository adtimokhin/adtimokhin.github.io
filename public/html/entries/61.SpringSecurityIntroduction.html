<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Some Spring Stuff | Spring Security Introduction</title>
    <link rel="icon" type="image/x-icon" href="../../images/SomeSpringStuff_LOGO.svg" />

</head>

<link href="../../css/style.css" rel="stylesheet">
<link href="../../css/code-in-text.css" rel="stylesheet">
<link href="../../css/code.css" rel="stylesheet">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

<body class="bdy">

    <!-- Navigation bar -->
    <div class="container">
        <div class="row">
            <div class="col-md-10 col-sm-12">
                <nav class="navbar navbar-expand-md navbar-dark justify-content-center"
                     style="background-color: #203c96;">
                    <div class="container-fluid">
                        <p class="navbar-brand">Some Spring Stuff </p>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                                data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false"
                                aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarScroll">
                            <ul class="navbar-nav me-auto my-2 my-md-0 navbar-nav-scroll"
                                style="--bs-scroll-height: 100px;">
                                <!--                                <li class="nav-item">-->
                                <!--                                    <a class="nav-link" href="#">About the site</a>-->
                                <!--                                </li>-->
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" id="navbarScrollingDropdown"
                                       role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        Project's structure
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="navbarScrollingDropdown">
                                        <li><a class="dropdown-item" onclick="location.href='01.Introduciton.html'">Introduction to Spring Framework</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='11.SetUpIntellij.html'">Setting up IDE</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='12.SettingUpMaven.html'">Getting familiar with Maven</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='13.SettingUpServer.html'">Setting up Tomcat Server</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='21.InversionOfControlAndDependencyInjection.html'">Inversion of Control and Dependency Injection</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='22.ConfigurationFiles.html'">Configuration Files</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='23.Web.xmlAndDispatcher-servlet.html'">XML Configuration</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='31.FirstController.html'">First Controller</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='32.CreatingFirstFTLPages.html'">FTL Pages</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='00.MVC.html'">MVC Model</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='33.StartingWithDatabases.html'">Introduction to Databases</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='331.JDBCAPI.html'">JDBC API</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='332.JDBCTemplate.html'">JDBC Template</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='333.HibernateORM.html'">Hibernate ORM</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='334.JPA.html'">JPA</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='41.UserValidation.html'">User Validation</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='51.News.EntityAndValidation.html'">Adding Another Entity</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='61.SpringSecurityIntroduction.html'">Spring Security. Introduction</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='62.SpringSecuritySomeOtherSecurityStuff.html'">Spring Security. Advanced Topics</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='71.MappingPartOne.html'">Mappings. Part One</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='72.MappingsPartTwo.html'">Mappings. Part Two</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='81.Authorities.html'">Security. Authorities and Roles</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='91.ExceptionHandling.html'">Exception Handling</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='111.MailAPI.html'">Mail API. Sending Emails</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='121.Logging.html'">Logging</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='131.AOP.html'">AOP and Spring AOP</a></li>
                                    </ul>
                                </li>
                                <!--                                <li class="nav-item">-->
                                <!--                                    <a class="nav-link" href="#">Roadmap</a>-->
                                <!--                                </li>-->
                                <!--                                <li class="nav-item">-->
                                <!--                                    <a class="nav-link" onclick="location.href='links.html'">Links</a>-->
                                <!--                                </li>-->
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
            <div class="d-none d-md-block col-md-2">
            </div>
        </div>
    </div>





    <main role="main" class="container">

        <div class="row">
            <!-- Main content body -->
            <div class="col-md-10 col-xs-12">
                <h1 class="display-3 text-center page-title">Spring Security. Introduction</h1>
                <section>
                    <h4 class="section-title">A quick word on why we need security</h4>
                    <div class="paragraph">
                        <p>In our application, we want to make sure that only people that registered can see our
                            news. We need to authenticate users in some way so that only those that have logged in can
                            see main content of the website.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p> Spring has a module that is responsible for working with the security aspect of our
                            application. It is called Spring Security (Who might have guessed?)
                        </p>
                    </div>
                    <div class="paragraph">
                        <p> It is a very big module and there is a lot to cover. We will start with the basics. We will
                            start by authenticating users.
                        </p>
                    </div>
                    <div class="paragraph">
                        <p> We want to implement this type of behaviour:
                        </p>
                        <p class="cenetered">
                            Clinet has to enter their email and password on a special login page. If the credentials are
                            correct we want client to be able to get access all URLs starting with
                            “/news/”.
                        </p>
                    </div>
                </section>
                <section>
                    <h4 class="section-title">Steps we need to take to set up Spring Security</h4>
                    <div class="sub-section">
                        <h6 class="sub-section-title">Step One: Add dependencies</h6>
                        <div class="paragraph">
                            <p> To be able to use Spring Security we will need this two dependencies:
                            </p>
                            <a class="text-link" target="_blank"
                                href="https://mvnrepository.com/artifact/org.springframework.security/spring-security-web">https://mvnrepository.com/artifact/org.springframework.security/spring-security-web</a>
                            <a class="text-link" target="_blank"
                                href="https://mvnrepository.com/artifact/org.springframework.security/spring-security-config">https://mvnrepository.com/artifact/org.springframework.security/spring-security-config</a>

                            <p class="file-name">pom.xml:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;">
                                    <p><span class="comment">&#160;&#160;&#160;&#60;!-- ... --&#62;<br /></span></p>
                                    <br />
                                    <p></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="xml-tag">&#60;dependency&#62;</span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="xml-tag">&#60;groupId&#62;</span>org.springframework.security<span
                                            class="xml-tag">&#60;/groupId&#62;</span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="xml-tag">&#60;artifactId&#62;</span>spring-security-web<span
                                            class="xml-tag">&#60;/artifactId&#62;</span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="xml-tag">&#60;version&#62;</span>5.5.1<span
                                            class="xml-tag">&#60;/version&#62;</span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="xml-tag">&#60;/dependency&#62;</span></p><br />
                                    <p></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="xml-tag">&#60;dependency&#62;</span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="xml-tag">&#60;groupId&#62;</span>org.springframework.security<span
                                            class="xml-tag">&#60;/groupId&#62;</span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="xml-tag">&#60;artifactId&#62;</span>spring-security-config<span
                                            class="xml-tag">&#60;/artifactId&#62;</span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="xml-tag">&#60;version&#62;</span>5.5.1<span
                                            class="xml-tag">&#60;/version&#62;</span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="xml-tag">&#60;/dependency&#62;</span></p><br />
                                    <p></p>
                                    <p><span class="comment">&#160;&#160;&#160;&#60;!-- ... --&#62;<br /></span></p>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="sub-section">
                        <h6 class="sub-section-title">Step Two: Configure Spring Security
                        </h6>
                        <div class="paragraph">
                            <p>Spring Security is one of these parts of Spring Framework that makes use of configuration
                                files a lot. Most of the security options can be controlled through config files. That
                                means that we won’t need to write much of the code ourselves to implement the security
                                aspect.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p> Inside the <span class="text-folder-name">config</span> package we need to create a new
                                config - <span class="text-class-name">SecurityConfig</span> - a class
                                that extends <span class="text-class-name">WebSecurityConfigurerAdapter</span>.</p>
                        </div>

                        <div class="paragraph">
                            <p><span class="text-class-name">WebSecurityConfigurerAdapter</span> - is a class that
                                allows us to configure Spring Security.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>Our <span class="text-class-name">SecurityConfig</span> should look something like this:
                            </p>
                            <p class="file-name">SecurityConfig.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p><span class="annotation">@Configuration</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        SecurityConfig <span class="key-word">extends</span>
                                        WebSecurityConfigurerAdapter { </p>
                                    <p>} </p>
                                </div>
                            </div>
                        </div>

                        <div class="paragraph">
                            <p>Inside this file we will override methods from the <span
                                    class="text-class-name">WebSecurityConfigurerAdapter</span> class in order to
                                customise the security configuration.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>
                                Let’s start by telling Spring that only authenticated cleints can enter URLs that
                                start with “/news/”, and all other URLs will be available for all cleints.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p> To do that we need to override a method <span class="code">configure()</span>. To be
                                honest, most of the methods from the <span
                                    class="text-class-name">WebSecurityConfigurerAdapter</span> are called that, so
                                refer to the code down below to see which one you need to override.
                            </p>
                        </div>
                        <div class="paragraph">
                            <p> Right now we need to override <span class="code">configure()</span> method that takes as
                                a parameter an object of <span class="text-class-name">HttpSecurity</span>:
                            </p>
                            <p class="file-name">SecurityConfig.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p><span class="annotation">@Configuration</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        SecurityConfig <span class="key-word">extends</span>
                                        WebSecurityConfigurerAdapter { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">protected</span> <span
                                            class="key-word">void</span> configure (HttpSecurity http) <span
                                            class="key-word">throws</span> Exception { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">super</span>.configure(http) <span class="key-word">;
                                        </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>} </p>
                                </div>
                            </div>
                        </div>

                        <div class="paragraph">
                            <p>Inside this method we can set up our security for specific HTTP requests. To do that we
                                need to call methods on the <span class="text-class-name">HttpSecurity</span> object.
                                For example, this is how we make our
                                security to let only authenticated users onto URLs that start with “/news/”:
                            </p>
                            <p class="file-name">SecurityConfig.class:</p>

                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p><span class="annotation">@Configuration</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        SecurityConfig <span class="key-word">extends</span>
                                        WebSecurityConfigurerAdapter { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">protected</span> <span
                                            class="key-word">void</span> configure (HttpSecurity http) <span
                                            class="key-word">throws</span> Exception { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;http.authorizeRequests() </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.antMatchers(<span
                                            class="string">"/news/"</span> , <span class="string">"/news/add"</span>)
                                        .authenticated() <span class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p>
                                    <p>} </p>
                                </div>
                            </div>

                        </div>

                        <div class="paragraph">
                            <p><span class="code">authorizeRequests()</span> is a method that let’s us set restrictions
                                for accessing specific URLs.
                                <span class="code">antMatchers()</span> is a method that tells to which URLs we want to restrict the access, and
                                it is followed by a method that tells what type of users we want to be able to access
                                given URLs.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>Instead of listing every single URL that starts with “/news/” inside the <span
                                    class="code">antMatchers()</span> method, we can instead use a special syntax:
                            </p>
                            <p class="file-name">SecurityConfig.class:</p>

                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p><span class="annotation">@Configuration</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        SecurityConfig <span class="key-word">extends</span>
                                        WebSecurityConfigurerAdapter { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">protected</span> <span
                                            class="key-word">void</span> configure (HttpSecurity http) <span
                                            class="key-word">throws</span> Exception { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;http.authorizeRequests() </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.antMatchers(<span
                                            class="string">"/news/*" </span>)
                                        .authenticated() <span class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p>
                                    <p>} </p>
                                </div>
                            </div>
                        </div>

                        <div class="paragraph">
                            <p>The asterisk tells that the URL can be followed by any characters.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>Now let’s set restrictions so that every other URL can be accessed by everyone.
                            </p>
                            <p class="file-name">SecurityConfig.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p><span class="annotation">@Configuration</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        SecurityConfig <span class="key-word">extends</span>
                                        WebSecurityConfigurerAdapter { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">protected</span> <span
                                            class="key-word">void</span> configure (HttpSecurity http) <span
                                            class="key-word">throws</span> Exception { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;http.authorizeRequests() </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.antMatchers(<span
                                            class="string">"/news/*" </span>)
                                        .authenticated()</p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.antMatchers(<span
                                            class="string">"/*" </span>)
                                        .permitAll() <span class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p>
                                    <p>} </p>
                                </div>
                            </div>

                            <p>
                                The order in which you put these lines matter. The line that sets restrictions
                                first will have a higher priority.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>
                                Splendid!
                            </p>
                        </div>
                    </div>

                    <div class="sub-section">
                        <h6 class="sub-section-title">Step Three: Login</h6>
                        <div class="paragraph">
                            <p> Login is an action that will grant our users permission to enter some URLs. In our
                                example, it will allow users to get to view and edit the news.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p> How do we go about logging in our users? Well, Spring Security has us covered here as
                                well. Instead of actually writing a mapping for handling the login action, Spring can do
                                this for us. If you wish you can do it yourself, but that will require a deeper
                                knowledge than that we will cover in this course.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>Configuring the login handling is also done through the <span
                                    class="text-class-name">SecurityConfig</span> class. In order to add that
                                functionality, we will need to modify the <span class="code">configure()</span> method
                                even further.
                            </p>

                            <p class="file-name">SecurityConfig.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p><span class="annotation">@Configuration</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        SecurityConfig <span class="key-word">extends</span>
                                        WebSecurityConfigurerAdapter { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">protected</span> <span
                                            class="key-word">void</span> configure (HttpSecurity http) <span
                                            class="key-word">throws</span> Exception { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;http.authorizeRequests() </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.antMatchers(<span
                                            class="string">"/news/*" </span>)
                                        .authenticated()</p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.antMatchers(<span
                                            class="string">"/*" </span>)
                                        .permitAll()</p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                        .and()</p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                        .formLogin()</p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.loginPage(<span
                                            class="string">"/login" </span>)
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.loginProcessingUrl(<span
                                            class="string">"/login/process" </span>)
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.usernameParameter(<span
                                            class="string">"username" </span>)
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.passwordParameter(<span
                                            class="string">"password" </span>)
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.failureUrl(<span
                                            class="string">"/login?error=true” </span>)
                                        <span class="key-word">; </span>
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;} </p>
                                    <p>&#160;&#160;&#160;&#160;} </p>
                                    <p>} </p>
                                </div>
                            </div>

                        </div>

                        <div class="paragraph">
                            <p>This is how we might configure the login option. Let’s go line by line to see what is
                                going on.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p><span class="code">and()</span> - this is a method that we call whenever we want to
                                configure some other part of security.
                            </p>
                            <p><span class="code">formLogin()</span> - is a method that tells Spring that we will be
                                using form login in our application. That means that we will make use of HTTP forms to
                                send user credentials. There are some other types of logging in, for example OAuth2, but
                                we will not touch on them in this course.
                            </p>
                            <p>
                                <span class="code">loginPage()</span> - tells Spring what is the login URL in our
                                application.
                            </p>
                            <p>
                                <span class="code">loginProcessingUrl()</span> - is a method that tells Spring what URL
                                it should use to handle the login option. Remember - we won’t need to specify such post
                                HTTP request in our controllers. Spring will by itself handle all the login operations
                                needed.
                            </p>
                            <p>
                                <span class="code">userParameter()</span> and <span
                                    class="code">passwordParameter()</span> - methods that tell Spring the names of
                                username and password tags inside our HTML form tags.
                            </p>
                            <p>
                                <span class="code">failureUrl()</span> - is a method that specifies what the URL Spring
                                will redirect us to if there was an error while the login procession.
                            </p>
                        </div>
                    </div>
                    <div class="sub-section">
                        <h6 class="sub-section-title">Step Four: Create login.ftl and a new Get HTTP method for login.
                        </h6>
                        <div class="paragraph">
                            <p> The title of this step is pretty self-explanatory, I suppose. The only thing I want to
                                say is that don’t forget to use the same names for your HTML input tags as those you
                                have specified in your <span class="text-class-name">SecurityConfig</span> .
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>Do the following:
                            </p>
                            <ul class="list-unstyled">
                                <ul>
                                    <li>Create the login page</li>
                                    <li>Create a mapping that will return the login page</li>
                                </ul>
                            </ul>
                        </div>

                        <div class="paragraph">
                            <div class="text-image">
                                <p> This is my login.ftl :</p>
                                <img src="../../images/entries/61/6.1.1Pic9.png" class="mx-auto d-block">
                            </div>
                        </div>

                        <div class="paragraph">
                            <p class="file-name">This is my Get HTTP method inside the AuthController for login:
                            </p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p><span class="annotation">@Controller</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        AuthController { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@GetMapping</span> (<span
                                            class="string">"/login"</span>) </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> String loginGet () {
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>} </p><br />
                                    <p> </p>
                                </div>
                            </div>

                        </div>
                    </div>


                    <div class="sub-section">
                        <h6 class="sub-section-title">Step Five: More security</h6>
                        <div class="paragraph">
                            <p> Remember how I told you that Spring will handle our login? Well, I might have lied a
                                bit. The only thing we will need to do ourselves is to write a class that
                                will authenticate users, and Spring will actually do the rest.
                            </p>
                        </div>
                        <div class="paragraph">
                            <p> Do the following:
                            </p>
                            <ul class="list-unstyled">
                                <ul>
                                    <li>Create a new package called <span class="text-folder-security">security</span>.
                                        That is where we will store all files associated with security.</li>
                                    <li>Inside the <span class="text-folder-security">security</span> package create a
                                        new class that implements Authentication provider.</li>
                                </ul>
                            </ul>
                        </div>

                        <div class="paragraph">
                            <div class="text-image">
                                <p>The project's folder structure:</p>
                                <img src="../../images/entries/61/6.1.2Pic11.png" class="mx-auto d-block">
                            </div>
                        </div>

                        <div class="paragraph">
                            <p class="file-name">AuthProvider.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;">
                                    <p><span class="annotation">@Component</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        AuthProvider <span class="key-word">implements</span> AuthenticationProvider {
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> Authentication
                                        authenticate (Authentication authentication) <span
                                            class="key-word">throws</span> AuthenticationException { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> <span class="key-word">null</span> <span
                                            class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> <span
                                            class="key-word">boolean</span> supports (Class&#60;?&#62; aClass) { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> <span class="key-word">false</span> <span
                                            class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p>
                                    <p>} </p><br />
                                    <p> </p>
                                </div>
                            </div>

                        </div>

                        <div class="paragraph">
                            <p>Method <span class="code">authenticate()</span> is the method where we will perform an
                                authentication of a user by the details that were passed in the login form.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>This is how we can authenticate our users:
                            </p>
                            <p class="file-name">AuthProvider.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;">
                                    <p><span class="annotation">@Component</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        AuthProvider <span class="key-word">implements</span> AuthenticationProvider {
                                    </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Autowired</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">private</span> UserService
                                        userService<span class="key-word">; </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> Authentication
                                        authenticate (Authentication authentication) <span
                                            class="key-word">throws</span> AuthenticationException { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;String email =
                                        authentication.getName() <span class="key-word">; </span><span
                                            class="comment">// we get the username parameter </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;User user =
                                        userService.findUser(email) <span class="key-word">; </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">if</span>
                                        (user == <span class="key-word">null</span>) { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">throw
                                            new</span> AuthenticationCredentialsNotFoundException
                                        (<span class="string">"User with such email was not detected"</span>) <span
                                            class="key-word">; </span>
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;String password =
                                        authentication.getCredentials.toString() <span class="key-word">; </span><span
                                            class="comment">// we get the credentials that we will turn into string
                                        </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">if</span>
                                        (user.getPassword().equals(password)) { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                        class="key-word">throw
                                        new</span> BadCredentialsException (<span
                                            class="string">"Bad credentials"</span>) <span class="key-word">; </span>
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ArrayList&#60;GrantedAuthority&#62;
                                        authorities = <span class="key-word">new</span> ArrayList&#60;&#62;() <span
                                            class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> <span class="key-word">new</span>
                                            UsernamePasswordAuthenticationToken(user.getEmail(),
                                        user.getPassword(), authorities)<span class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>} </p><br />
                                    <p> </p>
                                </div>
                            </div>

                        </div>

                        <div class="paragraph">
                            <p> The exceptions that we throw inside this method are crucial - they will trigger Spring
                                to direct us to the failure URL from the <span
                                    class="text-class-name">SecurityConfig</span> and we can potentially obtain
                                those errors to perform different types of actions.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p> At the end of the <span class="code">authenticate()</span> method we return an instance
                                of a <span class="text-class-name"><span class="text-class-name">User</span>namePasswordAuthenticationToken</span>.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p> Now, what is an authentication token? When a client logs into your system you need
                                something to verify that the client that makes a request is the one that you had just
                                authenticated. An authentication token is that something that verifies the client.
                                Authentication tokens store details about clients that had logged in so that the system
                                can confirm their actions on the platform.
                                <span class="text-class-name"><span class="text-class-name">User</span>namePasswordAuthenticationToken</span> is just a
                                variation of such a token.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p><span class="text-class-name"><span class="text-class-name">User</span>namePasswordAuthenticationToken</span> needs 3
                                parameters:
                            </p>
                            <ul class="list-unstyled">
                                <ul>
                                    <li><b>Principle</b> - an object that we use to identify which user is asking the
                                        permission to view certain URLs.</li>
                                    <li><b>Credentials</b> - an object that a system will use to verify that the user
                                        that is specified in the principle can actually access given URLs and perform other actions.</li>
                                    <li><b>Authorities</b>. We will touch on this a bit later.</li>
                                </ul>
                            </ul>

                        </div>
                        <div class="paragraph">
                            <p>Inside the <span class="text-class-name">AuthProvider</span> there is also another
                                method: <span class="code">supports()</span>.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>We already saw a similar method when we have been exploring the Spring Validation. This
                                method is used to check if the class type is the same as the one that we expect.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>In <span class="text-class-name">AuthProvider</span> this <span
                                    class="code">supports()</span> method will be called after the <span
                                    class="code">authenticate()</span> method. Thus, we need to check if the aClass from
                                the arguments of the <span class="code">supports()</span> method is equal to the <span
                                    class="text-class-name"><span class="text-class-name">User</span>namePasswordAuthenticationToken</span> class:
                            </p>
                            <p class="file-name">AuthProvider.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p><span class="annotation">@Component</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        AuthProvider <span class="key-word">implements</span> AuthenticationProvider {
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> <span
                                            class="key-word">boolean</span> supports (Class&#60;?&#62; aClass) { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> UsernamePasswordAuthenticationToken.<span
                                            class="key-word">class</span>.equals(aClass) <span class="key-word">;
                                        </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p>
                                    <p>} </p><br />
                                    <p> </p>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="sub-section">
                        <h6 class="sub-section-title">Step Six: Configuration, configuration …</h6>

                        <div class="paragraph">
                            <p> The last step in order to make our authenticated users to be able to view the correct
                                pages is to add our newly created <span class="text-class-name">AuthProvider</span> to
                                that configuration. That is done in a
                                separate method that is also called <span class="code">configure()</span>, but this one
                                takes as a parameter an
                                object of <span class="text-class-name">AuthenticationManagerBuilder</span>
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>It is very easy to set up our <span class="text-class-name">AuthProvider</span>.
                            </p>
                            <p class="file-name">SecurityConfig.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;">
                                    <p><span class="annotation">@Configuration</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        SecurityConfig <span class="key-word">extends</span>
                                        WebSecurityConfigurerAdapter { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Autowired</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">private</span> AuthProvider
                                        authProvider<span class="key-word">; </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">protected</span> <span
                                            class="key-word">void</span> configure (HttpSecurity http) <span
                                            class="key-word">throws</span> Exception { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="comment">// ... </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">protected</span> <span
                                            class="key-word">void</span> configure (AuthenticationManagerBuilder auth)
                                        <span class="key-word">throws</span> Exception {
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;auth.authenticationProvider(authProvider)
                                        <span class="key-word">; </span>
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>} </p><br />
                                    <p> </p>
                                </div>
                            </div>

                        </div>

                        <div class="paragraph">
                            <p>Done.
                            </p>
                        </div>


                        <div class="paragraph">
                            <p>We need to add some more configuration though. I do not want to touch on what that
                                configuration does, but without it nothing will work right now. So, just add the
                                following lines into the first <span class="code">configure()</span> method:
                            </p>
                            <p class="file-name">SecurityConfig.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p><span class="annotation">@Configuration</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        SecurityConfig <span class="key-word">extends</span>
                                        WebSecurityConfigurerAdapter { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">protected</span> <span
                                            class="key-word">void</span> configure (HttpSecurity http) <span
                                            class="key-word">throws</span> Exception { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;http.authorizeRequests() </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.antMatchers(<span
                                            class="string">"/news/*" </span>)
                                        .authenticated()</p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.antMatchers(<span
                                            class="string">"/*" </span>)
                                        .permitAll()</p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                        .and()</p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                        .formLogin()</p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.loginPage(<span
                                            class="string">"/login" </span>)
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.loginProcessingUrl(<span
                                            class="string">"/login/process" </span>)
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.usernameParameter(<span
                                            class="string">"username" </span>)
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.passwordParameter(<span
                                            class="string">"password" </span>)
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.failureUrl(<span
                                            class="string">"/login?error=true” </span>)
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.and()
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.csrf()
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.disabled()<span
                                            class="key-word">; </span>
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;} </p>
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>} </p>
                                </div>
                            </div>
                        </div>

                        <div class="paragraph">
                            <p>The last 3 lines are the new ones.
                            </p>
                        </div>
                        <div class="paragraph">
                            <p>We will also need to add two annotations to the <span class="text-class-name">SecurityConfig</span> class. They are:</p>
                            <ul class="list-unstyled">
                                <ul>
                                    <li><span class="text-annotation">@EnableWebSecurity</span> - this annotation marks
                                        the class as the <b>security</b> configuration
                                    </li>
                                    <li><span class="text-annotation">@ComponentScan</span> - this annotation we will
                                        use to tell where to look for our security-related files.</li>
                                </ul>
                            </ul>
                        </div>
                        <div class="paragraph">
                            <p class="file-name">SecurityConfig.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;">
                                    <p><span class="annotation">@Configuration</span> </p>
                                    <p><span class="annotation">@EnableWebSecurity</span> </p>
                                    <p><span class="annotation">@ComponentScan</span> (<span
                                            class="string">"com.adtimokhin.security"</span>) </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        SecurityConfig <span class="key-word">extends</span>
                                        WebSecurityConfigurerAdapter { </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p>
                                    <p>} </p>
                                </div>
                            </div>
                        </div>

                        <div class="paragraph">
                            <p>I don’t like to jump around in my explanations and leave some topics not fully covered.
                                But, we will have to do this once again. In order for our security to work we need a
                                <span class="text-class-name">SecurityInitializer</span> class that extends <span
                                    class="text-class-name">AbstractSecurityWebApplicationInitializer</span>. We do
                                not need to go into this topic any deeper, so just create a new file inside the <span
                                    class=text-folder-name>config</span>
                                package that looks something like this:
                            </p>
                        </div>


                        <div class="paragraph">
                            <p class="file-name">SecurityInitializer.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;">
                                    <p><span class="annotation">@Order</span> (2) </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        SecurityInitializer <span class="key-word">extends</span>
                                        AbstractSecurityWebApplicationInitializer { </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// Make sure that you use @Order
                                            annotation from org.springframework.core.annotation.Order </span></p>
                                    <p>} </p><br />
                                    <p> </p>
                                </div>
                            </div>

                        </div>

                        <div class="paragraph">
                            <p>Finally we are done with the <span class="text-class-name">SecurityConfig</span> for this
                                lesson. But don’t forget to add it
                                to your <span class="text-class-name">WebAppInitializer</span>.
                            </p>
                            <p class="file-name">WebAppInitializer.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;">
                                    <p><span class="annotation">@Order</span> (1) </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        WebAppInitializer <span class="key-word">extends</span>
                                        AbstractAnnotationConfigDispatcherServletInitializer { </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">protected</span>
                                        Class&#60;?&#62;[] getServletConfigClasses () { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> <span class="key-word">new</span>
                                        Class[]{WebConfig.<span class="key-word">class</span>,PersistenceConfig.<span class="key-word">class</span>,SecurityConfig.<span class="key-word">class</span>}<span
                                            class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>} </p><br />
                                    <p> </p><br />
                                    <p> </p><br />
                                    <p> </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="sub-section">
                        <h6 class="sub-section-title">Step Seven: Back to the AuthController</h6>

                        <div class="paragraph">
                            <p> We have completely forgotten to handle the errors that might occur during the
                                authentication. In Security configuration we have specified the URL that we will get to
                                if an error will occur - “/login?error=true”. So, let’s expand our <span
                                    class="code">loginGet()</span> method
                                inside the <span class="text-class-name">AuthController</span>!
                            </p>
                        </div>

                        <div class="paragraph">
                            <p> We need to check if the request parameter “error” is equal to TRUE or not. For some
                                unknown reason, we cannot use the standard boolean variable type for that. So instead we
                                will write a code like this:</p>
                                <p class="file-name">AuthController.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;">
                                    <p><span class="annotation">@Controller</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        AuthController { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@GetMapping</span> (<span
                                            class="string">"/login"</span>) </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> String loginGet
                                        (<span class="annotation">@RequestParam</span> (value =<span class="string">"error"</span>) Boolean error, Model
                                        model) { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">if</span>
                                        (Boolean.TRUE.equals(error)) { <span class="comment">// as error might be null
                                            we have to put this statement in this order </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="comment">// some exception-handling code ... </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> <span class="string">"login"</span><span
                                            class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>} </p><br />
                                    <p> </p><br />
                                    <p> </p><br />
                                    <p> </p>
                                </div>
                            </div>

                        </div>

                        <div class="paragraph">
                            <p>If an error has occurred then we want to let the user know. Let’s pass an error message
                                to the <span class="text-file-name">login.ftl</span> if an error had occurred:
                            </p>
                            <p class="file-name">AuthController.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;">
                                    <p><span class="annotation">@Controller</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        AuthController { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@GetMapping</span> (<span
                                            class="string">"/login"</span>) </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> String loginGet
                                        (<span class="annotation">@RequestParam</span>  (value =<span class="string">"error"</span>) Boolean error, Model
                                        model) { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">if</span>
                                        (Boolean.TRUE.equals(error)) { <span class="comment">// as error might be null
                                            we have to put this statement in this order </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;model.addAttribute(<span
                                            class="string">"error", "No user with such credentials was found"</span>)<span
                                            class="key-word">; </span>
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> <span class="string">"login"</span><span
                                            class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>} </p><br />
                                    <p> </p><br />
                                    <p> </p><br />
                                    <p> </p>
                                </div>
                            </div>

                        </div>

                        <div class="paragraph">
                            <p>
                                And inside <span class="text-file-name">login.ftl</span> we need to treat this error:

                            </p>
                            <div class="text-image">
                                <p>login.ftl:</p>
                                <img src="../../images/entries/61/6.1.3Pic28.png" class="mx-auto d-block">
                            </div>

                        </div>
                    </div>
                </section>
                <section>
                    <div class="paragraph">
                        <p>That pretty much does it for the basic security configuration. Now let's have a deeper look at a few security topics.</p>
                    </div>
                </section>
            </div>
            <!-- adverts -->
<!--            <div class="col-md-2 col-xs-12">-->
<!--                <div class="advert-v" style="background-color: blueviolet;">-->
<!--                    <p>FCGHVIUOJ</p>-->
<!--                </div>-->
<!--                <div class="advert-v" style="background-color: blueviolet;">-->
<!--                    <p>FCGHVIUOJ</p>-->
<!--                </div>-->
<!--                <div class="advert-v" style="background-color: blueviolet;">-->
<!--                    <p>FCGHVIUOJ</p>-->
<!--                </div>-->
<!--                <div class="advert-v" style="background-color: blueviolet;">-->
<!--                    <p>FCGHVIUOJ</p>-->
<!--                </div>-->
<!--            </div>-->

            <!-- Bottom navigation pannel -->
            <div class="col-12">
                <div class="container">
                    <div class="row">
                        <div class="col-6">
                            <button class="nav-button" onclick="location.href='51.News.EntityAndValidation.html'" type="button">
                                Previous topic: Adding Another Entity
                            </button>
                        </div>
                        <div class="col-6">
                            <button class="nav-button mx-auto d-block" onclick="location.href='62.SpringSecuritySomeOtherSecurityStuff.html'" type="button">
                                Next topic: Spring Security. Advanced Topics
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <!-- photo -->
                <div class="col-md-4 col-sm-5 col-xs-12" id="logo-container">
                    <div class="logo-container">
                        <img src="../../images/adtimokhinLOGOfooter.svg" class="mx-auto d-block">
                    </div>
                </div>
                <!-- Other action buttons -->
                <div class="col-md-4 col-sm-2 col-xs-6">
                    <a href="#" class="footer-link-title">Contact</a>
                    <a href="https://github.com/adtimokhin/" target="_blank" class="footer-link">GitHub</a>
                    <a href="https://www.linkedin.com/in/aleksandr-timokhin-5300361b6" target="_blank"
                        class="footer-link">LinkedIn</a>
                    <a href="https://www.instagram.com/adtimokhin/" target="_blank" class="footer-link">Instagram</a>
                </div>

                <div class="col-md-4 col-sm-3 col-xs-6">
                    <a href="#" class="footer-link-title">Terms & policy</a>
                </div>
            </div>
        </div>
    </footer>
</body>

</html>