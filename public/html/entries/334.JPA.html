<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Some Spring Stuff | JPA</title>
    <link rel="icon" type="image/x-icon" href="../../images/SomeSpringStuff_LOGO.svg" />

</head>

<link href="../../css/style.css" rel="stylesheet">
<link href="../../css/code-in-text.css" rel="stylesheet">
<link href="../../css/code.css" rel="stylesheet">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

<body class="bdy">

<!-- Navigation bar -->
<div class="container">
    <div class="row">
        <div class="col-md-10 col-sm-12">
            <nav class="navbar navbar-expand-md navbar-dark justify-content-center"
                 style="background-color: #203c96;">
                <div class="container-fluid">
                    <p class="navbar-brand">Some Spring Stuff </p>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                            data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false"
                            aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarScroll">
                        <ul class="navbar-nav me-auto my-2 my-md-0 navbar-nav-scroll"
                            style="--bs-scroll-height: 100px;">
                            <!--                                <li class="nav-item">-->
                            <!--                                    <a class="nav-link" href="#">About the site</a>-->
                            <!--                                </li>-->
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarScrollingDropdown"
                                   role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    Project's structure
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="navbarScrollingDropdown">
                                    <li><a class="dropdown-item" onclick="location.href='01.Introduciton.html'">Introduction to Spring Framework</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='11.SetUpIntellij.html'">Setting up IDE</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='12.SettingUpMaven.html'">Getting familiar with Maven</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='13.SettingUpServer.html'">Setting up Tomcat Server</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='21.InversionOfControlAndDependencyInjection.html'">Inversion of Control and Dependency Injection</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='22.ConfigurationFiles.html'">Configuration Files</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='23.Web.xmlAndDispatcher-servlet.html'">XML Configuration</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='31.FirstController.html'">First Controller</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='32.CreatingFirstFTLPages.html'">FTL Pages</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='00.MVC.html'">MVC Model</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='33.StartingWithDatabases.html'">Introduction to Databases</a></li>
                                    <li><a class="dropdown-item" onclick="location.href='331.JDBCAPI.html'">JDBC API</a></li>
                                    <li><a class="dropdown-item" onclick="location.href='332.JDBCTemplate.html'">JDBC Template</a></li>
                                    <li><a class="dropdown-item" onclick="location.href='333.HibernateORM.html'">Hibernate ORM</a></li>
                                    <li><a class="dropdown-item" onclick="location.href='334.JPA.html'">JPA</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='41.UserValidation.html'">User Validation</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='51.News.EntityAndValidation.html'">Adding Another Entity</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='61.SpringSecurityIntroduction.html'">Spring Security. Introduction</a></li>
                                    <li><a class="dropdown-item" onclick="location.href='62.SpringSecuritySomeOtherSecurityStuff.html'">Spring Security. Advanced Topics</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='71.MappingPartOne.html'">Mappings. Part One</a></li>
                                    <li><a class="dropdown-item" onclick="location.href='72.MappingsPartTwo.html'">Mappings. Part Two</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='81.Authorities.html'">Security. Authorities and Roles</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='91.ExceptionHandling.html'">Exception Handling</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='111.MailAPI.html'">Mail API. Sending Emails</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='121.Logging.html'">Logging</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" onclick="location.href='131.AOP.html'">AOP and Spring AOP</a></li>
                                </ul>
                            </li>
                            <!--                                <li class="nav-item">-->
                            <!--                                    <a class="nav-link" href="#">Roadmap</a>-->
                            <!--                                </li>-->
                            <!--                                <li class="nav-item">-->
                            <!--                                    <a class="nav-link" onclick="location.href='links.html'">Links</a>-->
                            <!--                                </li>-->
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
        <div class="d-none d-md-block col-md-2">
        </div>
    </div>
</div>


<main role="main" class="container">

    <div class="row">
        <!-- Main content body -->
        <div class="col-md-10 col-xs-12">
            <h1 class="display-3 text-center page-title">JPA</h1>
            <section>
                <h4 class="section-title">What is JPA</h4>
                <div class="paragraph">
                    <p> JPA stands for “Java Persistence API”. It is a Java specification (concept) that tells us
                        how to communicate with databases by the help of Java objects. It is essentially the same
                        idea as ORM, but ORM is rather an implementation of JPA concept.
                    </p>
                </div>

                <div class="paragraph">
                    <p> When we used Hibernate ORM we made use of the JPA concept.
                    </p>
                </div>

            </section>

            <section>
                <h4 class="section-title">How to work with JPA</h4>

                <div class="paragraph">
                    <p> As mentioned, JPA is a concept and to work with it we need some kind of implementation. That
                        implementation can very well be Hibernate.
                    </p>
                </div>

                <div class="paragraph">
                    <p> To work with JPA we need to add a few new beans to our Hibernate ORM beans so that some
                        ideas
                        that lie in the foundation of JPA can be implemented.
                    </p>
                </div>

                <div class="sub-section">
                    <h6 class="sub-section-title">Step One: Add dependencies</h6>

                    <div class="paragraph">
                        <p>
                            We need only one dependency this time. This dependency will allow Spring to work with
                            the JPA concept. That is, of course, spring-data-jpa dependency that I am talking about.
                            Here is the <a class="text-link"
                                           href="https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa"
                                           target="_blank">link</a> to it.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p>Do the following:</p>
                        <ul class="list-unstyled">
                            <ul>
                                <li>
                                    Add the dependency
                                </li>


                            </ul>
                        </ul>
                        <p class="file-name">pom.xml:</p>
                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;">
                                <p><span class="comment">&#160;&#160;&#160;&#60;!-- ... --&#62;<br/></span>
                                </p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                        class="xml-tag">&#60;dependency&#62;</span></p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                        class="xml-tag">&#60;groupId&#62;</span>org.springframework.data<span
                                        class="xml-tag">&#60;/groupId&#62;</span></p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                        class="xml-tag">&#60;artifactId&#62;</span>spring-data-jpa<span
                                        class="xml-tag">&#60;/artifactId&#62;</span></p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                        class="xml-tag">&#60;version&#62;</span>2.5.3<span
                                        class="xml-tag">&#60;/version&#62;</span></p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                        class="xml-tag">&#60;/dependency&#62;</span></p><br/>
                                <p></p>
                                <p><span class="comment">&#160;&#160;&#160;&#60;!-- ... --&#62;<br/></span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="sub-section">
                    <h6 class="sub-section-title">Step Two: Add required beans</h6>
                    <div class="paragraph">
                        <p> We need a bean that implements <span
                                class="text-interface-name">JpaVendorAdapter</span>. <span
                                class="text-interface-name">JpaVendorAdapter</span> is an interface that specifies
                            how to realize the JPA specification.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p> There is a class in Hibernate that actually is responsible for working with JPA -
                            <span class="text-class-name">HibernateJpaVendorAdapter</span> (who might have
                            guessed!). That will be the first bean that we will need.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p> Another one is called <span class="text-interface-name">EntityManagerFactory</span>.
                        </p>
                    </div>


                    <div class="paragraph">
                        <p><span class="text-interface-name">EntityManagerFactory</span> is an interface that allows
                            us
                            to communicate with our persistence (database) using entities, like <span
                                    class="text-class-name"><span class="text-class-name">User</span></span>.
                        </p>
                    </div>


                    <div class="paragraph">
                        <p><span class="text-class-name">LocalContainerEntityManagerFactoryBean</span> is a class
                            that
                            creates a <span class="text-interface-name">EntityManagerFactory</span> (object that
                            creates
                            <span class="text-class-name">EntityManagers</span>) so that we can use it to make
                            JPA
                            work.
                        </p>
                    </div>
                </div>
            </section>

            <section>
                <h4 class="section-title">Transactions</h4>
                <div class="paragraph">
                    <p>We already have added <span class="text-class-name">JpaTransactionManager</span>, so it is
                        finally time to tell what transactions are.
                    </p>
                </div>
                <div class="paragraph">
                    <p> Transactions get sent to one of your externally connected systems (like our database) to
                        perform some changes in that system. As we begin to use more and more abstract methods of
                        working with the database (like Hibernate ORM or JPA) we have to consider
                        transactions.
                    </p>
                    <p>Without transactions we cannot modify or view data in our database.</p>
                </div>

                <div class="paragraph">
                    <p> We need to create an object that will be responsible for working with JPA transactions. That
                        is <span class="text-class-name">JpaTransactionManager</span>. This class requires an <span
                                class="text-interface-name">EntityManagerFactory</span> in order to create the
                        transactions.
                    </p>
                </div>

                <div class="paragraph">
                    <p> In order to establish that we use JPA transactions we have to add dependency <span
                            class="text-annotation">@EnableTransactionManagment</span>.
                    </p>
                </div>

                <div class="paragraph">
                    <p>Do the following:</p>
                    <ul class="list-unstyled">
                        <ul>
                            <li>Create a bean of JpaVendorAdapter</li>
                            <li>Create a bean of EntityManagerFactory and set properties that it needs (refer to an
                                image below)
                            </li>
                            <li>
                                Create a bean of JpaTransactionManager (we have to update one that we currently have
                                in our configuration file).
                            </li>
                        </ul>
                    </ul>
                </div>

                <div class="paragraph">
                    <p>You should end up with three beans like this:
                    </p>

                    <p class="file-name">PersistenceConfig.class:</p>

                    <div class="code-container">
                        <div class="code-block" style="overflow-y:auto;"><br/>
                            <p></p>
                            <p><span class="comment">// ... </span></p><br/>
                            <p></p>
                            <p><span class="annotation">@Configuration</span></p>
                            <p><span class="annotation">@PropertySource</span> (<span
                                    class="string">"classpath:persistence.properties"</span>) </p>
                            <p><span class="annotation">@EnableTransactionManagement</span></p>
                            <p><span class="key-word">public</span> <span class="key-word">class</span>
                                PersistenceConfig{ </p><br/>
                            <p></p>
                            <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br/>
                            <p></p><br/>
                            <p></p>
                            <p>&#160;&#160;&#160;&#160;<span class="annotation">@Bean</span></p>
                            <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span>
                                JpaTransactionManager transactionManager (EntityManagerFactory
                                entityManagerFactory) { </p>
                            <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;JpaTransactionManager
                                transactionManager = <span class="key-word">new</span>
                                JpaTransactionManager() <span class="key-word">; </span></p>
                            <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;transactionManager.setEntityManagerFactory(entityManagerFactory)
                                <span class="key-word">; </span>
                            </p>
                            <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">return</span>
                                transactionManager<span class="key-word">; </span></p>
                            <p>&#160;&#160;&#160;&#160;} </p><br/>
                            <p></p>
                            <p>&#160;&#160;&#160;&#160;<span class="annotation">@Bean</span></p>
                            <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> JpaVendorAdapter
                                getJpaVendorAdapter () { </p>
                            <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">return</span>
                                <span class="key-word">new</span>
                                HibernateJpaVendorAdapter() <span class="key-word">; </span>
                            </p>
                            <p>&#160;&#160;&#160;&#160;} </p><br/>
                            <p></p>
                            <p>&#160;&#160;&#160;&#160;<span class="annotation">@Bean</span></p>
                            <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span>
                                EntityManagerFactory entityManagerFactory (DataSource dataSource,
                                JpaVendorAdapter jpaVendorAdapter) { </p><br/>
                            <p></p>
                            <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;LocalContainerEntityManagerFactoryBean
                                emf = <span class="key-word">new</span>
                                LocalContainerEntityManagerFactoryBean() <span class="key-word">; </span>
                            </p>
                            <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;emf.setDataSource(dataSource)
                                <span class="key-word">; </span><span class="comment">// emf needs
                                        datasource to create Connection with the database </span>
                            </p>
                            <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;emf.setPackagesToScan(<span
                                    class="string">"com.adtimokhin.model"</span>) <span class="key-word">;
                                    </span><span class="comment">// tells Spring where to find our entities
                                    </span></p>
                            <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;emf.setJpaVendorAdapter(jpaVendorAdapter)
                                <span class="key-word">; </span><span class="comment">// emf needs
                                        jpaVendorAdapter to work with JPA </span>
                            </p>
                            <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;emf.afterPropertiesSet()
                                <span class="key-word">; </span>
                            </p><br/>
                            <p></p>
                            <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">return</span>
                                emf.getObject() <span class="key-word">;
                                    </span></p>
                            <p>&#160;&#160;&#160;&#160;} </p><br/>
                            <p></p>
                            <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br/>
                            <p></p>
                            <p>} </p><br/>
                            <p></p>
                        </div>
                    </div>

                </div>

                <div class="paragraph">
                    <p>It is extremely important that you name the class that returns a bean of <span
                            class="text-interface-name">EntityManagerFactory</span>
                        as <span class="code">entityManagerFactory()</span>. The reason is that bean names are the
                        id of the beans. Some inner
                        methods use <span class="text-interface-name">EntityManagerFactory</span> and it needs this
                        exact bean with that exact name (or id)
                        to work.
                    </p>
                </div>

                <div class="paragraph">
                    <p>Also note that we need to get rid of the <span
                            class="text-class-name">LocalSessionFactoryBean</span> bean in the same
                        configuration file because otherwise Spring wouldn’t know which entity manager to use in
                        <span class="text-class-name">JpaTransactionManager</span>
                        .
                    </p>
                </div>
            </section>

            <section>
                <h4 class="section-title">Back to implementing JPA into our code</h4>
                <div class="sub-section">
                    <h6 class="sub-section-title">Step One: Create a new Implementation for UserService</h6>
                    <div class="paragraph">
                        <p class="file-name">new JpaUserServiceImpl.class:</p>
                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;"><br/>
                                <p></p>
                                <p><span class="annotation">@Component</span></p>
                                <p><span class="key-word">public</span> <span class="key-word">class</span>
                                    JpaUserServiceImpl <span
                                            class="key-word">implements</span> UserService { </p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> <span
                                        class="key-word">void</span> saveUser
                                    (String email, String password) { </p>
                                <p>&#160;&#160;&#160;&#160;} </p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> User findUser (String
                                    email) { </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">return</span>
                                    <span class="key-word">null</span> <span class="key-word">; </span>
                                </p>
                                <p>&#160;&#160;&#160;&#160;} </p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> List&#60;User&#62;
                                    findAll () { </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">return</span>
                                    <span class="key-word">null</span> <span class="key-word">; </span>
                                </p>
                                <p>&#160;&#160;&#160;&#160;} </p>
                                <p>} </p><br/>
                                <p></p>
                            </div>
                        </div>
                    </div>

                    <div class="paragraph">
                        <p>Now we need to inject a dependency for sending our requests to the database. To do that
                            we will use an object of class <span class="text-class-name">EntityManager</span>.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p> That class will not be autowired by our usual <span
                                class="text-annotation">@Autowired</span> annotation. Instead we will use <span
                                class="text-annotation">@PersistenceContext</span> annotation.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p><span class="text-annotation">@PersistenceContext</span> is an annotation that tells
                            Spring that this object is a container manager that also works with a persistence (in
                            our case -
                            database).
                        </p>
                    </div>

                    <div class="paragraph">
                        <p class="file-name"> Injecting EntityManager into JpaServiceImpl.class:</p>
                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;"><br/>
                                <p></p>
                                <p><span class="annotation">@Component</span></p>
                                <p><span class="key-word">public</span> <span class="key-word">class</span>
                                    JpaServiceImpl <span
                                            class="key-word">implements</span> UserService { </p>
                                <br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@PersistenceContext</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">private</span> EntityManager
                                    entityManager<span class="key-word">; </span></p><br/>
                                <p></p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p>
                                <p>} </p><br/>
                                <p></p>
                            </div>
                        </div>

                    </div>

                    <div class="paragraph">
                        <p>We now need to add a few annotations for the transaction to take place.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p><span class="text-annotation">@Transactional</span> annotation tells that method is
                            transactional. This annotation has a parameter readOnly. If it is set to true, then
                            Spring will know that this method does not alter the state of our database but instead
                            only retrieves data.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p>If readOnly is set to false (like it is by default) that will signal Spring that that
                            method does change the content of the database.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p><span class="text-annotation">@Transactional</span> annotation can be set onto the class
                            or interface so you don’t need to put this annotation on every single method by
                            yourself.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p class="file-name">JpaUserServiceImpl.class:</p>
                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;"><br/>
                                <p></p>
                                <p><span class="annotation">@Component</span></p>
                                <p><span class="annotation">@Transactional</span> (readOnly = <span
                                        class="key-word">true</span>) <span class="comment"> // transactional
                                            stuff.</span></p>
                                <p><span class="key-word">public</span> <span class="key-word">class</span>
                                    JpaUserServiceImpl <span
                                            class="key-word">implements</span> UserService { </p>
                                <br/>
                                <p></p><br/>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@PersistenceContext</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">private</span> EntityManager
                                    entityManager<span class="key-word">; </span></p><br/>
                                <p></p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Transactional</span> <span
                                        class="comment">// transactional stuff. </span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> <span
                                        class="key-word">void</span> saveUser
                                    (String email, String password) { </p>
                                <p>&#160;&#160;&#160;&#160;} </p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> User> findUser
                                    (String email) { </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                        class="key-word">return</span> <span class="key-word">null</span> <span
                                        class="key-word">; </span></p>
                                <p>&#160;&#160;&#160;&#160;} </p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> List&#60;User&#62;
                                    findAll () { </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                        class="key-word">return</span> <span class="key-word">null</span> <span
                                        class="key-word">; </span></p>
                                <p>&#160;&#160;&#160;&#160;} </p>
                                <p>} </p><br/>
                                <p></p>
                            </div>
                        </div>
                    </div>

                    <div class="paragraph">
                        <p>Now we are ready to start to look at how JPA works.</p>
                    </div>
                </div>

                <div class="sub-section">
                    <h6 class="sub-section-title">Step Two: Our beloved three methods</h6>

                    <div class="paragraph">
                        <p>Method 1 (<span class="code">saveUser()</span>):</p>

                        <p class="file-name">
                            JpaUserServiceImpl.class:
                        </p>

                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;"><br/>
                                <p></p>
                                <p><span class="annotation">@Component</span></p>
                                <p><span class="annotation">@Transactional</span> (readOnly = <span
                                        class="key-word">true</span>) </p>
                                <p><span class="key-word">public</span> <span class="key-word">class</span>
                                    JpaUserServiceImpl <span
                                            class="key-word">implements</span> UserService { </p>
                                <br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br/>
                                <p></p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Transactional</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> <span
                                        class="key-word">void</span> saveUser
                                    (String email, String password) { </p>
                                <br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;User user = <span class="key-word">new</span>
                                    User() <span class="key-word">; </span></p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;user.setEmail(email) <span
                                        class="key-word">; </span></p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;user.setPassword(password) <span
                                        class="key-word">; </span></p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;entityManager.persist(user) <span
                                        class="key-word">; </span><span class="comment">// this method will save
                                                User in the appropriate table in our
                                            database. </span></p>
                                <p>&#160;&#160;&#160;&#160;} </p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br/>
                                <p></p>
                                <p>} </p><br/>
                                <p></p>
                            </div>
                        </div>
                    </div>

                    <div class="paragraph">
                        <p>Nothing much to say. This is almost identical to what we were doing with Hibernate ORM
                        </p>
                    </div>

                    <div class="paragraph">
                        <p>Method 2 (<span class="code">findUser()</span>):</p>

                        <p class="file-name">
                            JpaUserServiceImpl.class:
                        </p>

                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;"><br/>
                                <p></p>
                                <p><span class="annotation">@Component</span></p>
                                <p><span class="annotation">@Transactional</span> (readOnly = <span
                                        class="key-word">true</span>) </p>
                                <p><span class="key-word">public</span> <span class="key-word">class</span>
                                    JpaUserServiceImpl <span
                                            class="key-word">implements</span>UserService { </p>
                                <br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> User findUser
                                    (String email) { </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;TypeQuery
                                    User query =
                                    entityManager.createQuery(<span class="string">"SELECT * FROM
                                                User u where u.email
                                                = :email"</span>, User.<span
                                            class="key-word">class</span>)<span class="key-word">;</span>
                                </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;query.setParameter(<span
                                        class="string">"email"</span> , email); <span class="comment"> // this is
                                            how you set up parameters in JPA.</span></p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                        class="key-word">return</span>
                                    query.getResultList().stream().findAny().orElse(<span
                                            class="key-word">null</span>)<span class="key-word">;</span></p>
                                <p>&#160;&#160;&#160;&#160;} </p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br/>
                                <p></p>
                                <p>} </p><br/>
                                <p></p>
                            </div>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>Now, there is another language that JPA uses. It is called JPQL (Java Persistence Query
                            Language). It looks like HQL and uses the same kind of syntax as SQL.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p>
                            Here is <a class="text-link"
                                       href="https://docs.oracle.com/html/E13946_04/ejb3_langref.html" target="_blank">documentation</a>
                            for it if you want to have a read through it:
                        </p>
                    </div>

                    <div class="paragraph">
                        <p>But don’t worry. We don’t JPQL that often, and you will very soon see why.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p>Method 3 (<span class="code">findAll()</span>):</p>
                        <p class="file-name">
                            JpaUserServiceImpl.class:
                        </p>

                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;"><br/>
                                <p></p>
                                <p><span class="annotation">@Component</span></p>
                                <p><span class="annotation">@Transactional</span> (readOnly = <span
                                        class="key-word">true</span>) </p>
                                <p><span class="key-word">public</span> <span class="key-word">class</span>
                                    JpaUserServiceImpl <span
                                            class="key-word">implements</span> User>Service { </p>
                                <br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> List&#60;User&#62;
                                    findAll () { </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                        class="key-word">return</span> entityManager.createQuery(<span
                                        class="string">"SELECT u FROM User
                                            u"</span>, User.<span
                                        class="key-word">class</span>)</p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.getResultList()
                                    <span class="key-word">; </span><span class="comment">// this method puts the
                                            result of the query into a List&#60;&#62;. </span>
                                </p>
                                <p>&#160;&#160;&#160;&#160;} </p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br/>
                                <p></p>
                                <p>} </p><br/>
                                <p></p>
                            </div>
                        </div>
                    </div>


                    <div class="paragraph">
                        <p>This is how we work with JPA. But those are not JPA repositories! That’s correct. I
                            wanted to show what working with JPA looks like so that you understand what is going on
                            under the hood of JPA repositories.
                        </p>
                    </div>
                </div>
            </section>

            <section>
                <h4 class="section-title">JPA Repositories</h4>
                <div class="paragraph">
                    <p> JPA Repositories are repositories that contain all queries to our database and their
                        realization.
                        So we actually no longer need to write SQL, HQL or JPQL queries at all. Now we will be using
                        JPA Repositories (which have identical realization as the JPA methods we have created above)
                        for appropriate entities.
                    </p>
                </div>

                <div class="paragraph">
                    <p> Oh, life is great!
                    </p>
                </div>

                <div class="paragraph">
                    <p> We have all the configuration needed to use JPA Repositories, but we can create another bean
                        that will make opperations with JPA Repositories a bit more convinient.
                    </p>
                </div>


            </section>
            <section>
                <h4 class="section-title">Steps need to take to work with JPA Repositories</h4>
                <div class="sub-class">
                    <h6 class="sub-section-title">Step One: Updating our config file once again</h6>
                    <div class="paragraph">
                        <p>
                            Sometimes it happens that we get errors when working with our database. To make an error
                            more meaningful we can set up a special bean of a class
                            <span class="text-class-name">PersistenceExceptionTranslationPostProcessor</span>. It
                            will map errors created by JPA
                            Repositories to more readable errors.
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>Another thing to do is to add a special annotation to indicate that we are using JPA
                            Repositories and where to find them.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p>Do the following:
                        </p>
                        <ul class="list-unstyled">
                            <ul>
                                <li>Create bean of PersistenceExceptionTranslationPostProcessor</li>

                                <p class="file-name">PersistenceConfig.class:</p>
                                <div class="code-container">
                                    <div class="code-block" style="overflow-y:auto;"><br/>
                                        <p></p>
                                        <p><span class="annotation">@Configuration</span></p>
                                        <p><span class="annotation">@PropertySource</span> (<span
                                                class="string">"classpath:persistence.properties"</span>) </p>
                                        <p><span class="annotation">@EnableTransactionManagement</span></p>
                                        <p><span class="key-word">public</span> <span class="key-word">class</span>
                                            PersistenceConfig { </p><br/>
                                        <p></p>
                                        <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p>
                                        <br/>
                                        <p></p>
                                        <p>&#160;&#160;&#160;&#160;<span class="annotation">@Bean</span>
                                        </p>
                                        <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span>
                                            PersistenceExceptionTranslationPostProcessor
                                            persistenceExceptionTranslator () { </p>
                                        <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                                class="key-word">return</span> <span class="key-word">new</span>
                                            PersistenceExceptionTranslationPostProcessor() <span class="key-word">;
                                                </span></p>
                                        <p>&#160;&#160;&#160;&#160;} </p><br/>
                                        <p></p>
                                        <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p>
                                        <br/>
                                        <p></p>
                                        <p>} </p><br/>
                                        <p></p><br/>
                                        <p></p>
                                    </div>
                                </div>
                                <li> Add Annotation @EnableJpaRepositories</li>
                                <p class="file-name">PersistenceConfig.class:</p>
                                <div class="code-container">
                                    <div class="code-block" style="overflow-y:auto;"><br/>
                                        <p></p>
                                        <p><span class="annotation">@Configuration</span></p>
                                        <p><span class="annotation">@PropertySource</span> (<span
                                                class="string">"classpath:persistence.properties"</span>) </p>
                                        <p><span class="annotation">@EnableTransactionManagement</span></p>
                                        <p><span class="annotation">@EnableJpaRepositories</span> (<span
                                                class="string">"com.adtimokhin.repository"</span>) <span
                                                class="comment">// this is the annotation that we have
                                                    to add </span></p>
                                        <p><span class="key-word">public</span> <span class="key-word">class</span>
                                            PersistenceConfig { </p><br/>
                                        <p></p>
                                        <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p>
                                        <br/>
                                        <p></p>
                                        <p>} </p><br/>
                                        <p></p><br/>
                                        <p></p>
                                    </div>
                                </div>

                            </ul>
                        </ul>
                    </div>
                    <div class="paragraph">
                        <p>Pass as a property to <span class="text-annotation">@EnableJpaRepsitories</span>
                            annotation a package where you will store your JPA repositories.
                        </p>
                    </div>
                </div>

                <div class="sub-class">
                    <h6 class="sub-section-title">Step Two: Creating JPA Repository</h6>

                    <div class="paragraph">
                        <p> We usually store our repositories in a separate directory called <span
                                class="text-folder-name">repository</span>.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p>After you create such a folder you can add your first JPA Repository into it. To do so
                            add an interface that extends the <span class="text-interface-name">JpaRepository</span>
                            interface. That interface needs two
                            generics:
                        </p>
                        <p class="centered">
                            <b>Entity class</b> <br/>
                            <b>Class of the Id attribute of that class</b>
                        </p>
                    </div>

                    <div class="paragraph">
                        <p>So, your repository will look something like this:
                        </p>

                        <p class="file-name">Newly created UserRepository:</p>
                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;"><br/>
                                <p></p>
                                <p><span class="annotation">@Repository</span> <span class="comment">// every single
                                            repository needs this annotation </span></p>
                                <p><span class="key-word">public</span> <span class="key-word">interface</span>
                                    UserRepository <span
                                            class="key-word">extends</span>
                                    JpaRepository&#60;User,Integer&#62; {
                                </p><br/>
                                <p></p>
                                <p>} </p><br/>
                                <p></p><br/>
                                <p></p>
                            </div>
                        </div>

                    </div>

                    <div class="paragraph">
                        <p>And voila! You have a <span class="text-interface-name">JpaRepository</span> that works
                            with <span class="text-class-name"><span class="text-class-name">User</span></span>
                            class. Though you didn’t add any methods to that repository yourself, it extends
                            many basic operations, like saving a <span class="text-class-name"><span
                                    class="text-class-name">User</span></span>, or
                            deleting a <span class="text-class-name"><span
                                    class="text-class-name">User</span></span>.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p> Let’s add a method that will be used to find a <span class="text-class-name"><span
                                class="text-class-name">User</span></span>
                            with a certain email.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p> All we have to do is to write an appropriate name for the method to get all of the
                            functionality. Spring will help you to write the correct method name:
                        </p>

                        <div class="text-image">
                            <p>UserRepository.interface:</p>
                            <img src="../../images/entries/334/3.3.4.1Pic13.png" class="mx-auto d-block">
                        </div>
                    </div>

                    <div class="paragraph">
                        <p>And like this you add methods to your repository
                        </p>

                        <div class="text-image">
                            <p>UserRepository.interface:</p>
                            <img src="../../images/entries/334/3.3.4.2Pic14.png" class="mx-auto d-block">
                        </div>
                    </div>
                </div>

                <div class="sub-section">
                    <h6 class="sub-section-title">Step Three: Creating the last implementation of UserService</h6>
                    <div class="paragraph">
                        <p> Now we don’t need to open connections, or create queries. We only need our good friend
                            JPA Repository and that’s all.</p>

                        <p class="file-name">Newly created UserServiceImpl:</p>
                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;"><br/>
                                <p></p>
                                <p><span class="annotation">@Component</span></p>
                                <p><span class="key-word">public</span> <span class="key-word">class</span>
                                    UserServiceImpl <span
                                            class="key-word">implements</span> UserService {
                                </p>
                                <br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Autowired</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">private</span> UserRepository
                                    userRepository<span class="key-word">; </span></p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> <span
                                        class="key-word">void</span> saveUser
                                    (String email, String password) { </p>
                                <p>&#160;&#160;&#160;&#160;} </p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> User findUser
                                    (String email) { </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                        class="key-word">return</span> <span class="key-word">null</span> <span
                                        class="key-word">; </span></p>
                                <p>&#160;&#160;&#160;&#160;} </p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> List&#60;User&#62;
                                    findAll () { </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                        class="key-word">return</span> <span class="key-word">null</span> <span
                                        class="key-word">; </span></p>
                                <p>&#160;&#160;&#160;&#160;} </p>
                                <p>} </p><br/>
                                <p></p><br/>
                                <p></p>
                            </div>
                        </div>

                    </div>

                    <div class="paragraph">
                        <p>Let’s also not forget to add annotations to make these methods transactional. It might be
                            a wise decision to move all of the <span class="text-annotation">@Transactional</span>
                            annotations to the parent interface so
                            that when we decide to have another implementation of the <span
                                    class="text-interface-name">Service</span>
                            we accidentally
                            don’t forget the annotations.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p>So, let’s update our <span class="text-interface-name">UserService</span> interface a
                            little:
                        </p>

                        <p class="file-name">UserService.interface:</p>
                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;"><br/>
                                <p></p>
                                <p><span class="annotation">@Service</span></p>
                                <p><span class="annotation">@Transactional</span> (readOnly = <span
                                        class="key-word">true</span>) </p>
                                <p><span class="key-word">public</span> <span class="key-word">interface</span>
                                    UserService {
                                </p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Transactional</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">void</span> saveUser (User user)
                                </p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;User findUser (String email) </p><br/>
                                <p></p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;List&#60;User&#62;
                                    findAll() <span class="key-word">;
                                        </span></p><br/>
                                <p></p>
                                <p>} </p><br/>
                                <p></p>
                            </div>
                        </div>

                    </div>

                    <div class="paragraph">
                        <p>Now I’ll show you how to write the three methods.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p><b>A quick note:</b> I have deleted all other implementations of the <span
                                class="text-interface-name">UserService</span>.
                        </p>
                    </div>
                </div>

                <div class="sub-section">
                    <h6 class="sub-section-title">Step Four: The three methods.</h6>

                    <div class="paragraph">
                        <p>Method 1 (<span class="code">saveUser()</span>):</p>

                        <p class="file-name">
                            UserServiceImpl.class:
                        </p>
                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;"><br/>
                                <p></p>
                                <p><span class="annotation">@Component</span></p>
                                <p><span class="key-word">public</span> <span class="key-word">class</span>
                                    UserServiceImpl <span
                                            class="key-word">implements</span>UserService {
                                </p>
                                <br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Autowired</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">private</span> UserRepository
                                    userRepository</p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> <span
                                        class="key-word">void</span> saveUser
                                    (String email, String password) { </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;User user = <span class="key-word">new</span>
                                    User() <span class="key-word">; </span></p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;user.setEmail(email) <span
                                        class="key-word">; </span></p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;user.setPassword(password) <span
                                        class="key-word">; </span></p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;userRepository.save(user) <span
                                        class="key-word">; </span></p>
                                <p>&#160;&#160;&#160;&#160;} </p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br/>
                                <p></p>
                                <p>} </p><br/>
                                <p></p>
                            </div>
                        </div>

                    </div>

                    <div class="paragraph">
                        <p>Method 2 (<span class="code">findUser()</span>):</p>

                        <p class="file-name">
                            UserServiceImpl.class:
                        </p>

                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;"><br/>
                                <p></p>
                                <p><span class="annotation">@Component</span></p>
                                <p><span class="key-word">public</span> <span class="key-word">class</span>
                                    UserServiceImpl <span
                                            class="key-word">implements</span> UserService {
                                </p>
                                <br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> User findUser
                                    (String email) { </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                        class="key-word">return</span> userRepository.findByEmail(email) <span
                                        class="key-word">; </span><span class="comment">// this is our "custom"
                                            method in the UserRepository. </span>
                                </p>
                                <p>&#160;&#160;&#160;&#160;} </p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br/>
                                <p></p>
                                <p>} </p><br/>
                                <p></p>
                            </div>
                        </div>

                    </div>

                    <div class="paragraph">
                        <p>Method 3 (<span class="code">findAll()</span>):</p>
                        <p class="file-name">
                            UserServiceImpl.class:
                        </p>
                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;"><br/>
                                <p></p>
                                <p><span class="annotation">@Component</span></p>
                                <p><span class="key-word">public</span> <span class="key-word">class</span>
                                    UserServiceImpl <span
                                            class="key-word">implements</span> UserService {
                                </p>
                                <br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span></p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> List&#60;User&#62;
                                    findAll () { </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                        class="key-word">return</span> userRepository.findAll() <span
                                        class="key-word">; </span><span class="comment">// this method is bult into
                                            JpaRepository. </span></p>
                                <p>&#160;&#160;&#160;&#160;} </p><br/>
                                <p></p>
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br/>
                                <p></p>
                                <p>} </p><br/>
                                <p></p>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="paragraph">
                    <p>We have finally covered all the standard ways working with the database through java code.
                        Which one to choose is up to you. All of these options will work equally well. My personal
                        favorite is JPA repositories method. It is so elegant, isn't is?
                    </p>
                </div>

            </section>
        </div>
        <!-- adverts -->
<!--        <div class="col-md-2 col-xs-12">-->
<!--            <div class="advert-v" style="background-color: blueviolet;">-->
<!--                <p>FCGHVIUOJ</p>-->
<!--            </div>-->
<!--            <div class="advert-v" style="background-color: blueviolet;">-->
<!--                <p>FCGHVIUOJ</p>-->
<!--            </div>-->
<!--            <div class="advert-v" style="background-color: blueviolet;">-->
<!--                <p>FCGHVIUOJ</p>-->
<!--            </div>-->
<!--            <div class="advert-v" style="background-color: blueviolet;">-->
<!--                <p>FCGHVIUOJ</p>-->
<!--            </div>-->
<!--        </div>-->

        <!-- Bottom navigation pannel -->
        <div class="col-12">
            <div class="container">
                <div class="row">
                    <div class="col-6">
                        <button class="nav-button" onclick="location.href='333.HibernateORM.html'" type="button">
                            Previous topic: Hibernate ORM
                        </button>
                    </div>
                    <div class="col-6">
                        <button class="nav-button mx-auto d-block" onclick="location.href='41.UserValidation.html'"
                                type="button">
                            Next topic: User Validation
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

</main>

<!-- Footer -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <!-- photo -->
            <div class="col-md-4 col-sm-5 col-xs-12" id="logo-container">
                <div class="logo-container">
                    <img src="../../images/adtimokhinLOGOfooter.svg" class="mx-auto d-block">
                </div>
            </div>
            <!-- Other action buttons -->
            <div class="col-md-4 col-sm-2 col-xs-6">
                <a href="#" class="footer-link-title">Contact</a>
                <a href="https://github.com/adtimokhin/" target="_blank" class="footer-link">GitHub</a>
                <a href="https://www.linkedin.com/in/aleksandr-timokhin-5300361b6" target="_blank"
                   class="footer-link">LinkedIn</a>
                <a href="https://www.instagram.com/adtimokhin/" target="_blank" class="footer-link">Instagram</a>
            </div>

            <div class="col-md-4 col-sm-3 col-xs-6">
                <a href="#" class="footer-link-title">Terms & policy</a>
            </div>
        </div>
    </div>
</footer>
</body>

</html>