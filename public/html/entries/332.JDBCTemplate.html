<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Some Spring Stuff | JDBC Template</title>
    <link rel="icon" type="image/x-icon" href="../../images/SomeSpringStuff_LOGO.svg" />

</head>

<link href="../../css/style.css" rel="stylesheet">
<link href="../../css/code-in-text.css" rel="stylesheet">
<link href="../../css/code.css" rel="stylesheet">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

<body class="bdy">

    <!-- Navigation bar -->
    <div class="container">
        <div class="row">
            <div class="col-md-10 col-sm-12">
                <nav class="navbar navbar-expand-md navbar-dark justify-content-center"
                     style="background-color: #203c96;">
                    <div class="container-fluid">
                        <p class="navbar-brand">Some Spring Stuff </p>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                                data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false"
                                aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarScroll">
                            <ul class="navbar-nav me-auto my-2 my-md-0 navbar-nav-scroll"
                                style="--bs-scroll-height: 100px;">
                                <!--                                <li class="nav-item">-->
                                <!--                                    <a class="nav-link" href="#">About the site</a>-->
                                <!--                                </li>-->
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" id="navbarScrollingDropdown"
                                       role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        Project's structure
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="navbarScrollingDropdown">
                                        <li><a class="dropdown-item" onclick="location.href='01.Introduciton.html'">Introduction to Spring Framework</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='11.SetUpIntellij.html'">Setting up IDE</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='12.SettingUpMaven.html'">Getting familiar with Maven</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='13.SettingUpServer.html'">Setting up Tomcat Server</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='21.InversionOfControlAndDependencyInjection.html'">Inversion of Control and Dependency Injection</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='22.ConfigurationFiles.html'">Configuration Files</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='23.Web.xmlAndDispatcher-servlet.html'">XML Configuration</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='31.FirstController.html'">First Controller</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='32.CreatingFirstFTLPages.html'">FTL Pages</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='00.MVC.html'">MVC Model</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='33.StartingWithDatabases.html'">Introduction to Databases</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='331.JDBCAPI.html'">JDBC API</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='332.JDBCTemplate.html'">JDBC Template</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='333.HibernateORM.html'">Hibernate ORM</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='334.JPA.html'">JPA</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='41.UserValidation.html'">User Validation</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='51.News.EntityAndValidation.html'">Adding Another Entity</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='61.SpringSecurityIntroduction.html'">Spring Security. Introduction</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='62.SpringSecuritySomeOtherSecurityStuff.html'">Spring Security. Advanced Topics</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='71.MappingPartOne.html'">Mappings. Part One</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='72.MappingsPartTwo.html'">Mappings. Part Two</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='81.Authorities.html'">Security. Authorities and Roles</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='91.ExceptionHandling.html'">Exception Handling</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='111.MailAPI.html'">Mail API. Sending Emails</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='121.Logging.html'">Logging</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='131.AOP.html'">AOP and Spring AOP</a></li>
                                    </ul>
                                </li>
                                <!--                                <li class="nav-item">-->
                                <!--                                    <a class="nav-link" href="#">Roadmap</a>-->
                                <!--                                </li>-->
                                <!--                                <li class="nav-item">-->
                                <!--                                    <a class="nav-link" onclick="location.href='links.html'">Links</a>-->
                                <!--                                </li>-->
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
            <div class="d-none d-md-block col-md-2">
            </div>
        </div>
    </div>





    <main role="main" class="container">

        <div class="row">
            <!-- Main content body -->
            <div class="col-md-10 col-xs-12">
                <h1 class="display-3 text-center page-title">JDBC Template</h1>
                <section>
                    <div class="paragraph">
                        <p> The JDBC API, that we were using in the previous lesson, has its downsides. It requires a
                            lot of code from us to write and we always need to worry about SQLException.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p> JDBC Template is the next level of abstraction for interacting with databases. It makes use
                            of JDBC API so that we don’t have to.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p> JDBC Template is even different in how we open the connection. Instead of manually creating
                            Connection class we now need to create a bean of class <span
                                class="text-class-name">DataSource</span>
                        </p>
                    </div>

                    <div class="paragraph">
                        <p><span class="text-class-name">DataSource</span> opens connection with database for us.</p>
                    </div>

                    <div class="paragraph">
                        <p> So, let’s create a <span class="text-class-name">DataSource</span>
                            bean together.
                        </p>
                    </div>

                </section>

                <section>
                    <h4 class="section-title">Steps to create DataSource bean</h4>
                    <div class="sub-section">

                        <h6 class="sub-section-title">Step One: Add dependency</h6>

                        <div class="paragraph">
                            <p>
                                To work with JDBC Template we need to add this <a class="text-link"
                                    href="https://mvnrepository.com/artifact/org.springframework/spring-jdbc"
                                    target="_blank">dependency</a>.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>Do the following:</p>
                            <ul class="list-unstyled">
                                <ul>
                                    <li>
                                        Add the spring-jdbc dependency.
                                    </li>

                      

                                </ul>
                            </ul>

                            <p class="file-name">
                                pom.xml:
                            </p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;">
                                    <p><span class="comment">&#160;&#160;&#160;&#60;!-- ... --&#62;<br /></span>
                                    </p><br />
                                    <p></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="xml-tag">&#60;dependency&#62;</span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="xml-tag">&#60;groupId&#62;</span>org.springframework<span
                                            class="xml-tag">&#60;/groupId&#62;</span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="xml-tag">&#60;artifactId&#62;</span>spring-jdbc<span
                                            class="xml-tag">&#60;/artifactId&#62;</span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="xml-tag">&#60;version&#62;</span>${spring.version}<span
                                            class="xml-tag">&#60;/version&#62;</span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="xml-tag">&#60;/dependency&#62;</span></p><br />
                                    <p></p>
                                    <p><span class="comment">&#160;&#160;&#160;&#60;!-- ... --&#62;<br /></span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="sub-section">

                        <h6 class="sub-section-title">Step Two: Get rid of Connection bean and implementation of
                            UserService
                        </h6>

                        <div class="paragraph">
                            <p> We will no longer use JDBC API for this project. So, we no longer require those two
                                components.
                            </p>
                            <p class="centered">
                                <span class="text-class-name">Connection</span> bean<br />
                                Previous implementation of <span class="text-class-name">UserServiceImpl</span>
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>Do the following:
                            </p>

                            <ul class="list-unstyled">
                                <ul>
                                    <li>
                                        Delete Connection bean
                                    </li>

                                    <p class="file-name">PersistenceConfig.class:</p>
                                    <div class="code-container">
                                        <div class="code-block" style="overflow-y:auto;">
                                            <p><span class="annotation">@Configuration</span> </p>
                                            <p><span class="annotation">@PropertySource</span> (<span
                                                    class="string">"classpath:persistence.properties"</span>) </p>
                                            <p><span class="key-word">public</span> <span class="key-word">class</span>
                                                PersistenceConfig { </p><br />
                                            <p> </p><br />
                                            <p> </p>
                                            <p>} </p>
                                        </div>
                                    </div>


                                    <li>
                                        Clear the implementation of methods inside UserServiceImpl.
                                    </li>

                                    <p class="file-name">UserServiceImpl.class:</p>
                                    <div class="code-container">
                                        <div class="code-block" style="overflow-y:auto;">
                                            <p><span class="annotation">@Component</span> </p>
                                            <p><span class="key-word">public</span> <span class="key-word">class</span>
                                                UserServiceImpl <span class="key-word">implements</span> UserService {
                                            </p><br />
                                            <p> </p>
                                            <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                            <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> <span
                                                    class="key-word">void</span> saveUser (User user) { </p><br />
                                            <p> </p>
                                            <p>&#160;&#160;&#160;&#160;} </p><br />
                                            <p> </p>
                                            <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                            <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> User
                                                findUser (String email) { </p>
                                            <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                                    class="key-word">return</span> <span class="key-word">null</span>
                                                <span class="key-word">; </span>
                                            </p>
                                            <p>&#160;&#160;&#160;&#160;} </p><br />
                                            <p> </p>
                                            <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                            <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span>
                                                List&#60;User&#62; findAll () { </p>
                                            <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                                    class="key-word">return</span> <span class="key-word">null</span>
                                                <span class="key-word">; </span>
                                            </p>
                                            <p>&#160;&#160;&#160;&#160;} </p>
                                            <p>} </p><br />
                                            <p> </p>
                                        </div>
                                    </div>
                                </ul>
                            </ul>
                        </div>
                    </div>

                    <div class="sub-class">
                        <h6 class="sub-section-title">Step Three: Set up DataSource bean and JdbcTemplate bean
                        </h6>
                        <div class="paragraph">
                            <p> This is how you can set up your DataSource bean:
                            </p>
                            <p class="file-name">PersistenceConfig.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;">
                                    <p><span class="annotation">@Configuration</span> </p>
                                    <p><span class="annotation">@PropertySource</span> (<span
                                            class="string">"classpath:persistence properties"</span>) </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        PersistenceConfig { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Bean</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> DataSource
                                        getDataSource (<span class="annotation">@Value</span> (<span
                                            class="string">"${user}"</span>) String user </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="annotation">@Value</span> (<span class="string">"${password}"</span>)
                                        String password, </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="annotation">@Value</span> (<span class="string">"${url}"</span>)
                                        String url, </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="annotation">@Value</span> (<span class="string">"${driver}"</span>)
                                        String driver) { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;DriverManagerDataSource
                                        dataSource = <span class="key-word">new</span> DriverManagerDataSource()
                                        <span class="key-word">; </span>
                                    </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dataSource.setUsername(user)
                                        <span class="key-word">; </span>
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dataSource.setPassword(password)
                                        <span class="key-word">; </span>
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dataSource.setUrl(url)
                                        <span class="key-word">; </span>
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dataSource.setDriverClassName(driver)
                                        <span class="key-word">; </span>
                                    </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> dataSource<span class="key-word">;
                                        </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p>
                                    <p>} </p>
                                </div>
                            </div>
                        </div>

                        <div class="paragraph">
                            <p><span class="text-class-name">JdbcTemplate</span> is a class that will execute SQL
                                statements. It will help to make the code neater and minimize a risk of us typing code
                                that will result in error.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p><span class="text-class-name">JdbcTemplate</span> needs a <span
                                    class="text-class-name">DataSource</span> object that we have just created. That is how you can create <span class="text-class-name">JdbcTemplate</span> bean:
                            </p>
                        </div>

                        <div class="paragraph">
                            <p class="file-name">PersistenceConfig.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;">
                                    <p>&#160;&#160;<span class="comment">// ... </span></p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Bean</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> JdbcTemplate
                                        getJdbcTemplate (DataSource dataSource) </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> <span class="key-word">new</span>
                                        JdbcTemplate(dataSource) <span class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p>
                                    <p>&#160;&#160;&#160;&#160; </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section>
                    <h4 class="section-title">Working with JdbcTemplate</h4>
                    <div class="paragraph">
                        <p> Now we can prepare and execute statements in one method. All those methods are called on an
                            object of the <span class="text-class-name">JdbcTemplate</span> class.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p> Let’s see how it is done in the examples.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p>Method 1 (<span class="code">saveUser()</span>):</p>
                        <p class="file-name">
                            UserServiceImpl.class:
                        </p>

                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;">
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                <p> </p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Autowired</span> </p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">private</span> JdbcTemplate
                                    jdbcTemplate<span class="key-word">; </span><span class="comment">// don't forget to
                                        autowire jdbcTemplate we've just created. </span></p><br />
                                <p> </p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> <span
                                        class="key-word">void</span> saveUser (User user) { </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;
                                    jdbcTemplate.update(<span class="string">"INSERT INTO users VALUES (1,?,?)"</span>,
                                    user.email,
                                    user.password)<span class="key-word">;</span></p>
                                <p>&#160;&#160;&#160;&#160;} </p><br />
                                <p> </p>
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                <p> </p>
                            </div>
                        </div>
                    </div>

                    <div class="paragraph">
                        <p>First parameter of all those methods is the SQL query itself. The last arguments are the
                            properties we want to insert instead of ‘?’ symbols. We can have as many as we like.
                        </p>
                        <p>
                            <span class="code">update()</span> method is used to modify the content of our database.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p>Method 2 (<span class="code">findUser()</span>):</p>

                        <p class="file-name">
                            UserServiceImpl.class:
                        </p>

                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;">
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                <p> </p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> User findUser (String
                                    email) { </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">return</span>
                                    jdbcTemplate.query(<span class="string">"SELECT * FROM users WHERE email=?"</span>,
                                    (rs, rowNum)->{</p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;User user =
                                    <span class="key-word">new</span> User() <span class="key-word">; </span>
                                </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;user.setId(rs.getInt(1))<span class="key-word">; </span></p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;user.setEmail(rs.getString(2)) <span class="key-word">; </span></p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;user.setPassword(rs.getString(3)) <span class="key-word">; </span></p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                        class="key-word">return</span> user<span class="key-word">; </span></p><br />
                                <p> </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}, email) </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.stream().findAny().orElse(<span class="key-word">null</span>)
                                    <span class="key-word">; </span>
                                </p>
                                <p>&#160;&#160;&#160;&#160;} </p><br />
                                <p> </p>
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                <p> </p>
                            </div>
                        </div>
                    </div>

                    <div class="paragraph">
                        <p>This one is a bit more complicated but not by much. As before the first parameter is our SQL
                            query and the last ones are the arguments for that query.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p> The second parameter is a <span class="text-interface-name">RowMapper</span> (we are using
                            lambda expressions to define the only method that interface has). This <span
                                class="text-interface-name">RowMapper</span> has a <span
                                class="text-class-name">ResultSet</span> object (like from the JDBC API example) that we
                            can use to build our <span class="text-class-name"><span class="text-class-name">User</span></span> objects.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p> Method <span class="code">query()</span> returns a List&#60;<span class="text-class-name">User</span>&#62;. In this case we want
                            to get only the first <span class="text-class-name"><span class="text-class-name">User</span></span>. So we can use the <span
                                class="code">stream()</span> method on our List&#60;<span class="text-class-name">User</span>&#62; to get only one <span
                                class="text-class-name"><span class="text-class-name">User</span></span>. Method <span class="code">orElse()</span>tells what
                            should be returned if no <span class="text-class-name"><span class="text-class-name">User</span></span> is found.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p>Method 3 (<span class="code">findAll()</span>):</p>

                        <p class="file-name">
                            UserServiceImpl.class:
                        </p>

                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;">
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                <p> </p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span>
                                    List&#60;User&#62; findAll() { </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">return</span>
                                    jdbcTemplate.query(<span class="string">"SELECT * FROM users"</span>, new
                                    BeanPropertyRowMapper&#60;&#62;(User.<span class="key-word">class</span>))<span
                                        class="key-word">;</span></p>
                                <p>&#160;&#160;&#160;&#160;} </p><br />
                                <p> </p>
                            </div>
                        </div>

                    </div>


                    <div class="paragraph">
                        <p>
                            This is also the <span class="code">query()</span> method but this time we don’t use <span
                                class="text-interface-name">RowMapper</span>. Instead we use
                            <span class="text-class-name">BeanPropertyRowMapper</span>. The difference is that <span
                                class="text-class-name">BeanPropertyRowMapper</span> class will automatically
                            map the result it gets into the entity that we pass in parameters.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p> We could use the same <span class="text-class-name">BeanPropertyRowMapper</span> object in
                            the method 2 to make it look neater:
                        </p>
                    </div>


                    <div class="paragraph">
                        <p class="file-name">
                            UserServiceImpl.class:
                        </p>
                        <div class="code-container">
                            <div class="code-block" style="overflow-y:auto;">
                                <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                <p> </p>
                                <p>&#160;&#160;&#160;&#160;<span class="annotation">@Override</span> </p>
                                <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> User findUser (String
                                    email) { </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">return</span>
                                    jdbcTemplate.query(<span class="string">"SELECT * FROM users WHERE email=?"</span> ,
                                </p>
                                <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                        class="key-word">new</span> BeanPropertyRowMapper&#60;&#62; (User.<span
                                        class="key-word">class</span>), </p>
                                        <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;email)
                                        </p>
                                        <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.stream().findAny().orElse(<span class="key-word">null</span>)
                                            <span class="key-word">; </span></p>
                                        <p>&#160;&#160;&#160;&#160;} </p><br />
                                        <p> </p>
                                        <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p>
                            </div>
                        </div>

                    </div>

                    <div class="paragraph">
                        <p>And that is how you work with JDBC Template.
                        </p>
                    </div>

                </section>
            </div>
            <!-- adverts -->
<!--            <div class="col-md-2 col-xs-12">-->
<!--                <div class="advert-v" style="background-color: blueviolet;">-->
<!--                    <p>FCGHVIUOJ</p>-->
<!--                </div>-->
<!--                <div class="advert-v" style="background-color: blueviolet;">-->
<!--                    <p>FCGHVIUOJ</p>-->
<!--                </div>-->
<!--                <div class="advert-v" style="background-color: blueviolet;">-->
<!--                    <p>FCGHVIUOJ</p>-->
<!--                </div>-->
<!--                <div class="advert-v" style="background-color: blueviolet;">-->
<!--                    <p>FCGHVIUOJ</p>-->
<!--                </div>-->
<!--            </div>-->

            <!-- Bottom navigation pannel -->
            <div class="col-12">
                <div class="container">
                    <div class="row">
                        <div class="col-6">
                            <button class="nav-button" onclick="location.href='331.JDBCAPI.html'" type="button">
                                Previous topic: JDBC API
                            </button>
                        </div>
                        <div class="col-6">
                            <button class="nav-button mx-auto d-block" onclick="location.href='333.HibernateORM.html'" type="button">
                                Next topic: Hibernate ORM
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <!-- photo -->
                <div class="col-md-4 col-sm-5 col-xs-12" id="logo-container">
                    <div class="logo-container">
                        <img src="../../images/adtimokhinLOGOfooter.svg" class="mx-auto d-block">
                    </div>
                </div>
                <!-- Other action buttons -->
                <div class="col-md-4 col-sm-2 col-xs-6">
                    <a href="#" class="footer-link-title">Contact</a>
                    <a href="https://github.com/adtimokhin/" target="_blank" class="footer-link">GitHub</a>
                    <a href="https://www.linkedin.com/in/aleksandr-timokhin-5300361b6" target="_blank"
                        class="footer-link">LinkedIn</a>
                    <a href="https://www.instagram.com/adtimokhin/" target="_blank" class="footer-link">Instagram</a>
                </div>

                <div class="col-md-4 col-sm-3 col-xs-6">
                    <a href="#" class="footer-link-title">Terms & policy</a>
                </div>
            </div>
        </div>
    </footer>
</body>

</html>