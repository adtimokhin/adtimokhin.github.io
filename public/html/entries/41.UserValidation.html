<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Some Spring Stuff | User Validation</title>
    <link rel="icon" type="image/x-icon" href="../../images/SomeSpringStuff_LOGO.svg" />

</head>

<link href="../../css/style.css" rel="stylesheet">
<link href="../../css/code-in-text.css" rel="stylesheet">
<link href="../../css/code.css" rel="stylesheet">
<link href="../../css/extra-sections.css" rel="stylesheet">


<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

<body class="bdy">

    <!-- Navigation bar -->
    <div class="container">
        <div class="row">
            <div class="col-md-10 col-sm-12">
                <nav class="navbar navbar-expand-md navbar-dark justify-content-center"
                     style="background-color: #203c96;">
                    <div class="container-fluid">
                        <p class="navbar-brand">Some Spring Stuff </p>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                                data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false"
                                aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarScroll">
                            <ul class="navbar-nav me-auto my-2 my-md-0 navbar-nav-scroll"
                                style="--bs-scroll-height: 100px;">
                                <!--                                <li class="nav-item">-->
                                <!--                                    <a class="nav-link" href="#">About the site</a>-->
                                <!--                                </li>-->
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" id="navbarScrollingDropdown"
                                       role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        Project's structure
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="navbarScrollingDropdown">
                                        <li><a class="dropdown-item" onclick="location.href='01.Introduciton.html'">Introduction to Spring Framework</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='11.SetUpIntellij.html'">Setting up IDE</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='12.SettingUpMaven.html'">Getting familiar with Maven</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='13.SettingUpServer.html'">Setting up Tomcat Server</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='21.InversionOfControlAndDependencyInjection.html'">Inversion of Control and Dependency Injection</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='22.ConfigurationFiles.html'">Configuration Files</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='23.Web.xmlAndDispatcher-servlet.html'">XML Configuration</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='31.FirstController.html'">First Controller</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='32.CreatingFirstFTLPages.html'">FTL Pages</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='00.MVC.html'">MVC Model</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='33.StartingWithDatabases.html'">Introduction to Databases</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='331.JDBCAPI.html'">JDBC API</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='332.JDBCTemplate.html'">JDBC Template</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='333.HibernateORM.html'">Hibernate ORM</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='334.JPA.html'">JPA</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='41.UserValidation.html'">User Validation</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='51.News.EntityAndValidation.html'">Adding Another Entity</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='61.SpringSecurityIntroduction.html'">Spring Security. Introduction</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='62.SpringSecuritySomeOtherSecurityStuff.html'">Spring Security. Advanced Topics</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='71.MappingPartOne.html'">Mappings. Part One</a></li>
                                        <li><a class="dropdown-item" onclick="location.href='72.MappingsPartTwo.html'">Mappings. Part Two</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='81.Authorities.html'">Security. Authorities and Roles</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='91.ExceptionHandling.html'">Exception Handling</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='111.MailAPI.html'">Mail API. Sending Emails</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='121.Logging.html'">Logging</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" onclick="location.href='131.AOP.html'">AOP and Spring AOP</a></li>
                                    </ul>
                                </li>
                                <!--                                <li class="nav-item">-->
                                <!--                                    <a class="nav-link" href="#">Roadmap</a>-->
                                <!--                                </li>-->
                                <!--                                <li class="nav-item">-->
                                <!--                                    <a class="nav-link" onclick="location.href='links.html'">Links</a>-->
                                <!--                                </li>-->
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
            <div class="d-none d-md-block col-md-2">
            </div>
        </div>
    </div>





    <main role="main" class="container">

        <div class="row">
            <!-- Main content body -->
            <div class="col-md-10 col-xs-12">
                <h1 class="display-3 text-center page-title"><span>User</span> Validation</h1>
                <section>
                    <h4 class="section-title">Introduction</h4>
                    <div class="paragraph">
                        <p> Now when we know how to work with our database, let’s get back to writing the actual
                            business logic of our website.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p>First step in our development - enable people to sign up to our website. We already have a
                            method to add users when they enter their email and password. But that is not enough.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p> What if someone enters an email that is used by some other user? We want our emails to be
                            unique.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p> What if someone does not fill in the fields for password and email whatsoever and press the
                            submit button? We don’t want to store empty users in our database.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p> When we take any input from our client, we want to validate it. There are many types of
                            validations that we may need to use to check the validity of the input.
                        </p>
                    </div>

                    <div class="sub-section">
                        <h6 class="sub-section-title">I want to add the following validations into our system:</h6>
                        <div class="paragraph">
                            <p>
                                Email should be in the format of email (that is example@example.com)<br />
                                Email should be unique<br />
                                Password should be at least 7 characters long<br />
                                <span>User</span> should re-enter their password, and the two passwords should match
                            </p>
                        </div>
                    </div>

                    <div class="paragraph">
                        <p>So, how do we approach this task? Well, we will definitely need a special method that
                            validates
                            inputs related to <span class="text-class-name"><span
                                    class="text-class-name">User</span></span>. It makes sense to put it into a seperate
                            class so that we can call
                            that method from any part of our application.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p> Let’s create that class. There is Spring Validation that
                            can be used to validate input. However, I will save that topic for later. We will come to it
                            when we begin to work with our next entity. For now, we will create our custom class for
                            validations.
                        </p>
                    </div>
                </section>

                <section>
                    <h4 class="section-title">What steps are we going to take?</h4>
                    <div class="sub-section">
                        <h6 class="sub-section-title">Step One: Create UserValidator class</h6>
                        <div class="paragraph">
                            <p>
                                We will start by creating a folder where we will store all our utility classes like our
                                <span class="text-class-name"><span class="text-class-name">User</span>Validator</span>
                                (that is the class for validating <span class="text-class-name"><span
                                        class="text-class-name">User</span></span> objects).
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>Do the following:
                            </p>
                            <ul class="list-unstyled">
                                <ul>
                                    <li>Create a package <span>util</span> where you will store
                                        your utils like validators
                                    </li>
                                    <li>
                                        Inside <span>util</span> create a UserValidator class.

                                    </li>
                                </ul>
                            </ul>

                            <div class="text-image">
                                <p>/main/com/adtimokhin/...</p>
                                <img src="../../images/entries/41/4.1.1Pic1.png" class="mx-auto d-block">
                            </div>

                        </div>


                        <div class="paragraph">
                            <p>
                                Our <span class="text-class-name"><span
                                        class="text-class-name">User</span>Validator</span> will return a list of errors
                                that
                                it had detected while doing the validation.
                            </p>
                        </div>

                    </div>

                    <div class="sub-section">
                        <h6 class="sub-section-title">Step Two: Create an error class for user validation errors</h6>
                        <div class="paragraph">
                            <p>
                                This class will be super simple. Each error will only have an error message. That’s all.
                                We want to be able to set that message when we create the <span
                                    class="text-class-name"><span class="text-class-name">User</span>Error</span> and to
                                view the
                                message. So, the class will look something like this:
                            </p>

                            <p class="file-name">UserError.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        UserError{ </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">private</span> String
                                        errorMessage<span class="key-word">; </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> UserError (String
                                        errorMessage) { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">this</span>.errorMessage= errorMessage<span
                                            class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> String
                                        getErrorMessage () { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> errorMessage<span class="key-word">; </span>
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;} </p>
                                    <p>} </p><br />
                                    <p> </p>
                                </div>
                            </div>

                        </div>

                        <div class="paragraph">
                            <p>
                                I now - it's amazing, bubt don’t get too excited.
                            </p>
                        </div>
                    </div>
                    <div class="sub-section">
                        <h6 class="sub-section-title">Step Three: Write validation logic</h6>

                        <div class="paragraph">
                            <p>
                                If our user does not pass our validation (which means that client’s inputs are wrong) we
                                want to let the client know that they were not registered.
                                If, on the other hand, no errors with inputs have been detected we want to save new
                                <span class="text-class-name"><span class="text-class-name">User</span></span> into our
                                database.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>
                                That validation will happen in the only class that will be present in <span
                                    class="text-class-name"><span class="text-class-name">User</span>Validator</span> -
                                method <span class="code">validate()</span>.
                                It will take <span class="text-class-name"><span
                                        class="text-class-name">User</span></span> as an input and return a list of
                                <span class="text-class-name"><span class="text-class-name">User</span>Error</span>.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>This is how we can approach this:
                            </p>

                            <p class="file-name">AuthController.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p><span class="annotation">@Controller</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        AuthController{ </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@PostMapping</span> (<span
                                            class="string">"/sign_up"</span>) </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> String signUpPost(
                                        <span class="annotation">@RequestParam</span> (name = <span
                                            class="string">"email"</span>) String email,
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="annotation">@RequestParam</span> (name = <span
                                            class="string">"password"</span>) String password, </p>
                                    <!-- <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="annotation">@RequestParam</span> (name = <span
                                            class="string">"passwordTwo"</span>) String passwordTwo, </p> -->
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Model
                                        model) { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="comment">// Our
                                            validate() method takes an object of User class as one of its
                                            parameters. </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;User user = <span
                                            class="key-word">new</span> User() <span class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;user.setEmail(email) <span
                                            class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;user.setPassword(password) <span
                                            class="key-word">; </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;List&#60;UserError&#62; errorList
                                        = userValidator.validate(user) </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">if</span>
                                        (!errorList.isEmpty()) { <span class="comment">// if there are any errors with
                                            input
                                        </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="comment">// We want user to see the list of errors that have occurred
                                        </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                        model.addAttribute(<span class="string">"errors"</span>, errorList)<span
                                            class="key-word">; </span> <span class="comment">// we are adding
                                            errors to our model (we'll talk about it in just a bit) </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> <span class="string">"signUp"</span><span
                                            class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} <span
                                            class="key-word">else</span> { <span class="comment">// we want to save user
                                            in our database</span> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;userService.save
                                        User (user)
                                        <span class="key-word">; </span>
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;emailSender.sendEmailVerificationEmail(user)
                                        <span class="key-word">; </span>
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> <span class="string">"signUp"</span><span
                                            class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p><br />
                                    <p> </p>
                                    <p>} </p><br />
                                    <p> </p>
                                </div>
                            </div>

                        </div>

                        <div class="paragraph">
                            <p>
                                <span class="text-class-name">Model</span> class is used to map some parameters to pass
                                them to the view that we will return
                                to our client (like a webpage). Method <span class="code">addAttribute()</span> passes a
                                certain value to
                                our view (in this case -
                                FTL page). The type of attribute can be of any type.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>If you want to learn more about objects that we can pass as parameters to the methods
                                inside our controllers, you are welcome to read about them by following this <a
                                    href="41.UserValidation.html#parameters" class="text-link">link</a>.
                            </p>
                        </div>
                    </div>

                    <div class="sub-section">
                        <h6 class="sub-section-title">Step Four: Update our signUp FTL page</h6>
                        <div class="paragraph">
                            <p> All the attributes that we pass to a view can be accessed inside that view. In FTL we do
                                so by the following syntax:
                            </p>
                            <p class="centered">
                                <b>${name of the attribute passed}</b>
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>So, this is how we get the value of the error attribute inside signUp FTL page:
                            </p>

                            <div class="text-image">
                                <p>signUp FTL page:</p>
                                <img src="../../images/entries/41/4.1.2Pic7.png" class="mx-auto d-block">
                            </div>

                        </div>

                        <div class="paragraph">
                            <p>But when we have an object that is a list of some kind (array, List, ArrayList, etc.) we
                                cannot access it that easily. We need to go through the whole list to then work with
                                each element in it.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>FTL uses special syntax for working with lists:
                            </p>
                            <p class="centered" style="color: brown;">
                                &#60;#list sequence as item&#62; <br />
                                Part repeated for each item <br />
                                &#60;/#list &#62;
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>In our application we want it to look something like this:</p>
                            <div class="text-image">
                                <p>signUp FTL page:</p>
                                <img src="../../images/entries/41/4.1.3Pic10.png" class="mx-auto d-block">
                            </div>
                        </div>

                        <div class="paragraph">
                            <p>But we want FTL to go through these <span
                                    style="color: brown;">&#60;#list&#62;&#60;/#list&#62;</span> tags only if we have
                                received errors
                                in the model attributes. Sometimes, you may wish not to pass certain attributes to your
                                FTL pages. Like here: when user requests a page for signing up we don't need to pass
                                <b>errorList</b>.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>Consequently, we need if statements to check if we have received errorList or not.</p>
                        </div>

                        <div class="paragraph">
                            <p> We use this syntax to write FTL if statements:
                            </p>

                            <p style="color: brown;">
                                &#60;#if condition&#62; <br />
                                ...<br />
                                &#60;#elseif condition2&#62;<br />
                                ...<br />
                                &#60;#elseif condition3&#62;<br />
                                ...<br />
                                ...<br />
                                &#60;#else&#62;<br />
                                ...<br />
                                &#60;#/if&#62;
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>Where:
                            </p>
                            <p>
                                <span style="color: brown;">condition</span>, <span
                                    style="color: brown;">condition2</span>, ...etc.: Expression evaluates to a boolean
                                value.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>The <span style="color: brown;">elseif-s</span> and <span
                                    style="color: brown;">else</span> attributes are optional.
                            </p>
                        </div>

                        <div class="paragraph">
                            <p>In our code we will write the following:
                            </p>
                            <div class="text-image">
                                <p>signUp FTL page:</p>
                                <img src="../../images/entries/41/4.1.4Pic11.png" class="mx-auto d-block">
                            </div>
                        </div>

                        <div class="paragraph">
                            <p>We can put our attributes in a form like ${error} into any tag. It can be done like this,
                                for example:
                            </p>

                            <div class="text-image">
                                <p>signUp FTL page:</p>
                                <img src="../../images/entries/41/4.1.5Pic12.png" class="mx-auto d-block">
                            </div>

                        </div>

                        <div class="paragraph">
                            <p>
                                The syntax for ftl is not that hard. You can go over it all very quickly if you like.
                                Here is a manual for it:
                                <a class="text-link" href="https://freemarker.apache.org/docs/index.html"
                                    target="_blank">https://freemarker.apache.org/docs/index.html</a>

                            </p>
                        </div>
                    </div>

                    <div class="sub-class">
                        <h6 class="sub-section-title">Step Five: Let’s write our validation checks
                        </h6>

                        <div class="paragraph">
                            <p>Honestly, this step does not require me to explain the code that much as it is basic Java
                                we are working with. But I will show you how I wrote these checks anyway. We will go one
                                by one to show you how I validated every field:
                            </p>
                        </div>

                        <div class="paragraph">

                            <ul class="list-unstyled">
                                <ul>
                                    <li>
                                        Check number one: password should be at least 7 characters long.
                                    </li>
                                </ul>
                            </ul>

                            </p>
                            <p class="file-name">UserValidation.class:</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p><span class="annotation">@Component</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        UserValidator { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">private static final int</span>
                                        MIN_PASSWORD_LENGTH = 7<span class="key-word">; </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Autowired</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">private</span> UserService
                                        userService<span class="key-word">; </span></p><br />
                                    <p> </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span>
                                        List&#60;UserError&#62; validate (User user) { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ArrayList&#60;UserError&#62;
                                        errors = <span class="key-word">new</span> ArrayList&#60;&#62;() <span
                                            class="key-word">; </span><span class="comment">// we will add UserErrors to
                                            this List. </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="comment">//check one
                                            - password is at least 7 characters long </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">if</span>
                                        (user.getPassword().length() &#60; MIN_PASSWORD_LENGTH){ </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;errors.add(<span
                                            class="key-word">new</span> UserError (<span class="string">"Password should
                                            be at least "</span> + MIN_PASSWORD_LENGTH + <span class="string">"
                                            characters long."</span>))<span class="key-word">;
                                        </span> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> errors<span class="key-word">;
                                        </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p><br />
                                    <p> </p>
                                    <p>} </p><br />
                                    <p> </p><br />
                                    <p> </p>
                                </div>
                            </div>
                        </div>

                        <div class="paragraph">

                            <ul class="list-unstyled">
                                <ul>
                                    <li>
                                        Check number two: user should have email in correct format.
                                    </li>
                                </ul>
                            </ul>

                            <p>
                                This one is a bit tricky. We need to decide what the correct format will look like. I
                                think that for our application the correct format is going to be:
                            </p>
                            <p class="centered">
                                ****<b>@</b>***<b>.</b>****
                            </p>
                            <p>
                                In bald are the symbols that we need in our email, and asterics represent any
                                characters in any quantity.
                            </p>
                            <p class="file-name">UserValidation.class</p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p><span class="annotation">@Component</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        UserValidator { </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">private static final int</span>
                                        MIN_PASSWORD_LENGTH = 7<span class="key-word">; </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Autowired</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">private</span> UserService
                                        userService<span class="key-word">; </span></p><br />
                                    <p> </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span>
                                        List&#60;UserError&#62; validate (User user) { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ArrayList&#60;UserError&#62;
                                        errors = <span class="key-word">new</span> ArrayList&#60;&#62;() <span
                                            class="key-word">; </span><span class="comment">// we will add UserErrors to
                                            this List. </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="comment">//check one
                                            - password is at least 7 characters long </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">if</span>
                                        (user.getPassword().length() &#60; MIN_PASSWORD_LENGTH){ </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;errors.add(<span
                                            class="key-word">new</span> UserError (<span class="string">"Password should
                                            be at least "</span> + MIN_PASSWORD_LENGTH + <span class="string">"
                                            characters long."</span>))<span class="key-word">;
                                        </span> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="comment">//check two - email is in correct format </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">if</span> (!isEmailInCorrectFormat
                                        (user.getEmail())){ </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;errors.add(<span
                                            class="key-word">new</span> UserError (<span class="string">"email
                                            is in invalid form."</span>))<span class="key-word">;
                                        </span> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> errors<span class="key-word">;
                                        </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">private</span> <span
                                            class="key-word">boolean</span> isEmailInCorrectFormat (String
                                        email){ </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;String[] parts =
                                        email.split(<span class="string">"@"</span>) <span class="key-word">;
                                        </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">if</span>
                                        (parts.length!= 2){ </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> <span class="key-word">false</span>
                                        <span class="key-word">; </span>
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;parts =
                                        parts[1].split(<span class="string">"."
                                        </span>) <span class="key-word">; </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> parts.length == 2<span class="key-word">;
                                        </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p><br />
                                    <p> </p>
                                    <p>} </p><br />
                                    <p> </p><br />
                                    <p> </p>
                                </div>
                            </div>

                        </div>

                        <div class="paragraph">
                            <p>Of course if you know how to use regular expressions you can use those. Then your
                                isEmailInCorrectFormat will look something like this:
                            </p>

                            <p class="file-name">
                                UserValidation.class:
                            </p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p><span class="annotation">@Component</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        <span class="text-class-name">User</span>Validator {
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">private</span> <span
                                            class="key-word">static</span> <span class="key-word">final</span>
                                        String emailRegex = <span class="string">"^[A-Za-z0-9+_ -]+@[A-Za-z0-9
                                            -]+$"</span><span class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">private</span> <span
                                            class="key-word">static</span> Pattern emailPattern =
                                        Pattern.compile(emailRegex) <span class="key-word">; </span></p><br />
                                    <p> </p>

                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// this variation of the method
                                        </span></p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// has a more complex requirements
                                            for email that we have defined in the example above </span></p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">private</span> <span
                                            class="key-word">boolean</span> isEmailInCorrectFormat (String email){ </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Matcher matcher =
                                        emailPattern.matcher(email) <span class="key-word">; </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> matcher.matches() <span class="key-word">;
                                        </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p>
                                    <p>} </p><br />
                                    <p> </p><br />
                                    <p> </p>
                                </div>
                            </div>
                        </div>

                        <div class="paragraph">

                            <ul class="list-unstyled">
                                <ul>
                                    <li>
                                        Check Three: email should not be yet in use.
                                    </li>
                                </ul>
                            </ul>

                            <p class="file-name">
                                UserValidation.class:
                            </p>
                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p><span class="annotation">@Component</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        UserValidator {
                                    </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">private static final int</span>
                                        MIN_PASSWORD_LENGTH = 7<span class="key-word">; </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@Autowired</span> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">private</span> UserService
                                        userService<span class="key-word">; </span></p><br />
                                    <p> </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span>
                                        List&#60;UserError&#62; validate (User user) { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ArrayList&#60;UserError&#62;
                                        errors = <span class="key-word">new</span> ArrayList&#60;&#62;() <span
                                            class="key-word">; </span><span class="comment">// we will add UserErrors to
                                            this List. </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="comment">//check one
                                            - password is at least 7 characters long </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">if</span>
                                        (user.getPassword().length() &#60; MIN_PASSWORD_LENGTH){ </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;errors.add(<span
                                            class="key-word">new</span> UserError
                                        (<span class="string">"Password should
                                            be at least "</span> + MIN_PASSWORD_LENGTH + <span class="string">"
                                            characters long."</span>))<span class="key-word">;
                                        </span> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="comment">//check two
                                            - email is in correct format </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">if</span>
                                        (!isEmailInCorrectFormat
                                        (user.getEmail())){ </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;errors.add(<span
                                            class="key-word">new</span> UserError
                                        (<span class="string">"email
                                            is in invalid form."</span>))<span class="key-word">;
                                        </span> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} <span
                                            class="key-word">else</span> { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="comment">// check three - email is not yet in use </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">if</span> (userService.findUser(user.getEmail()) !=
                                        <span class="key-word">null</span>){
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;errors.add(<span
                                            class="key-word">new</span> UserError
                                        (<span class="string">"This
                                            email is already in use."</span>))<span class="key-word">;
                                        </span> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> errors<span class="key-word">;
                                        </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">private</span> <span
                                            class="key-word">boolean</span> isEmailInCorrectFormat (String
                                        email){ </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;String[] parts =
                                        email.split(<span class="string">"@"</span>) <span class="key-word">;
                                        </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">if</span>
                                        (parts.length!= 2){ </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> <span class="key-word">false</span>
                                        <span class="key-word">; </span>
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;parts =
                                        parts[1].split(<span class="string">"."
                                        </span>) <span class="key-word">; </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> parts.length == 2<span class="key-word">;
                                        </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p><br />
                                    <p> </p>
                                    <p>} </p><br />
                                    <p> </p><br />
                                    <p> </p>
                                </div>
                            </div>

                            <p>
                                Here we are making use of our UserService.
                            </p>

                        </div>


                        <div class="paragraph">

                            <ul class="list-unstyled">
                                <ul>
                                    <li>
                                        Check Four: Two passwords should match.
                                    </li>
                                </ul>
                            </ul>

                            <p>
                                So far we only get only one password from each client. We need to update our FTL page
                                and the
                                appropriate controller method to receive second password.
                            </p>

                            <div class="text-image">
                                <p>signUp FTL page:</p>
                                <img src="../../images/entries/41/4.1.6Pic17.png" class="mx-auto d-block">
                            </div>

                            <p class="file-name">
                                AuthController.class:
                            </p>

                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="annotation">@PostMapping</span> (<span
                                            class="string">"/sign_up"</span>) </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span> String signUpPost( &#160;
                                        <span class="annotation">@RequestParam</span> (name = <span
                                            class="string">"email"</span>) String email,
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="annotation">@RequestParam</span> (name = <span
                                            class="string">"password"</span>) String password, </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="annotation">@RequestParam</span> (name = <span
                                            class="string">"passwordTwo"</span>) String passwordTwo, <span
                                            class="comment"> // This is how you add second password</span> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Model
                                        model ){ </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
                                    </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                </div>
                            </div>


                        </div>

                        <div class="paragraph">
                            <p>The best way to validate the second password will be by passing it into our <span
                                    class="code">validate()</span> method and then work with it there.
                            </p>

                            <p class="file-name">

                            </p>

                            <div class="code-container">
                                <div class="code-block" style="overflow-y:auto;"><br />
                                    <p> </p>
                                    <p><span class="annotation">@Component</span> </p>
                                    <p><span class="key-word">public</span> <span class="key-word">class</span>
                                        UserValidator{
                                    </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="key-word">public</span>
                                        List&#60;UserError&#62; validate (User user, String passwordTwo) { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ArrayList&#60;UserError&#62;
                                        errors = <span class="key-word">new</span> ArrayList&#60;&#62;() <span
                                            class="key-word">; </span><span class="comment">// we will add UserErrors to
                                            this List. </span></p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="comment">//check one
                                            - password is at least 7 characters long </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">if</span>
                                        (user.getPassword().length() &#60; MIN_PASSWORD_LENGTH){ </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;errors.add(<span
                                            class="key-word">new</span> UserError
                                        (<span class="string">"Password should
                                            be at least "</span> + MIN_PASSWORD_LENGTH + <span class="string">"
                                            characters long."</span>))<span class="key-word">; </span> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="comment">//check two
                                            - email is in correct format </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">if</span>
                                        (!isEmailInCorrectFormat
                                        (user.getEmail())){ </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;errors.add(<span
                                            class="key-word">new</span> UserError
                                        (<span class="string">"email
                                            is in invalid form."</span>))<span class="key-word">; </span> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} <span
                                            class="key-word">else</span> { </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="comment">// check three - email is not yet in use </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">if</span> (userService.findUser(user.getEmail()) !=
                                        <span class="key-word">null</span>){
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;errors.add(<span
                                            class="key-word">new</span> UserError
                                        (<span class="string">"This
                                            email is already in use."</span>))<span class="key-word">; </span> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="comment">//check
                                            four - see if the two passwords match
                                        </span></p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="key-word">if</span>(
                                        !user.getPassword().equals (passwordTwo)) {
                                    </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;errors.add(<span
                                            class="key-word">new</span> UserError
                                        (<span class="string">"Passwords do
                                            not match."</span>))<span class="key-word">; </span> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span
                                            class="key-word">return</span> errors<span class="key-word">;
                                        </span></p>
                                    <p>&#160;&#160;&#160;&#160;} </p><br />
                                    <p> </p>
                                    <p>&#160;&#160;&#160;&#160;<span class="comment">// ... </span></p><br />
                                    <p> </p>
                                    <p>} </p>
                                </div>
                            </div>

                        </div>

                    </div>
                </section>

                <section>
                    <div class="paragraph">
                        <p>
                            Now our user validation should work just fine. For example, if we do not enter any input on
                            our <b>signUp</b> page and press the <b>Submit</b> button we will see something like this:
                        </p>
                        <div class="text-image">
                            <img src="../../images/entries/41/4.2.7Pic20.png" class="mx-auto d-block">
                        </div>

                    </div>

                    <div class="paragraph">
                        <p>
                            But if validation is passed then a new <span class="text-class-name"><span
                                    class="text-class-name">User</span></span> object will be saved in our database.
                        </p>
                    </div>

                    <div class="paragraph">
                        <p>Right now our clients, when they finally manage to put correct information, will get back to
                            this
                            signup page. But I don’t want that. I want my newly signed users to see all the news I have
                            on my portal. So the next stage in our development will be creating <span
                                class="text-class-name"><span class="text-class-name">News</span></span> entity and
                            displaying
                            those entities on our clients' screens after they have registered.
                        </p>
                    </div>

                </section>
                <section>
                    <h1 class="display-3 text-center page-title">Extra sections</h1>
                </section>

                <section id="parameters">
                    <h4 class="section-title">Extra parameters for controller methods</h4>
                    <button type="button" class="extra-section">Expand/ Roll up</button>
                    <div class="extra-section-content">
                        <section>
                            <div class="paragraph">
                                <p>There are 3 main objects that you may wish to pass in the arguments of a method that
                                    is mapped to some HTTP method and URL:</p>
                            </div>
                            <div class="paragraph">
                                <p><b>Model</b> - as we’ve discussed, is a class for setting attributes to our model,
                                    like view template
                                </p>
                            </div>

                            <div class="paragraph">
                                <p><b>HttpServletRequest</b> - is a class that contains information that servlet
                                    receives when getting a request from a client. Such information like HTTP method
                                    called, URL, some parameters passed from an html form, etc.
                                </p>
                            </div>

                            <div class="paragraph">
                                <p><b>HttpServletResponse</b> - is a class that contains information about the response
                                    the user will get from the server computer. Information like HTTP response status
                                    (e.g. famous 404 - page not found, or 500 - internal server error), or html page.
                                </p>
                            </div>

                            <div class="paragraph">
                                <p> Most of the features that can be modified via HttpServletRequest and
                                    HttpServletResponse are managed by our Spring app and Dispatcher Servlet. However,
                                    no one bans you from using those objects when needed. Say, both HttpServletRequest
                                    and HttpServletResponse are commonly used to work with cookies.
                                </p>
                            </div>
                        </section>
                    </div>
                </section>
            </div>
            <!-- adverts -->
<!--            <div class="col-md-2 col-xs-12">-->
<!--                <div class="advert-v" style="background-color: blueviolet;">-->
<!--                    <p>FCGHVIUOJ</p>-->
<!--                </div>-->
<!--                <div class="advert-v" style="background-color: blueviolet;">-->
<!--                    <p>FCGHVIUOJ</p>-->
<!--                </div>-->
<!--                <div class="advert-v" style="background-color: blueviolet;">-->
<!--                    <p>FCGHVIUOJ</p>-->
<!--                </div>-->
<!--                <div class="advert-v" style="background-color: blueviolet;">-->
<!--                    <p>FCGHVIUOJ</p>-->
<!--                </div>-->
<!--            </div>-->

            <!-- Bottom navigation pannel -->
            <div class="col-12">
                <div class="container">
                    <div class="row">
                        <div class="col-6">
                            <button class="nav-button" onclick="location.href='334.JPA.html'" type="button">
                                Previous topic: JPA
                            </button>
                        </div>
                        <div class="col-6">
                            <button class="nav-button mx-auto d-block" onclick="location.href='51.News.EntityAndValidation.html'" type="button">
                                Next topic: Adding Another Entity
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <!-- photo -->
                <div class="col-md-4 col-sm-5 col-xs-12" id="logo-container">
                    <div class="logo-container">
                        <img src="../../images/adtimokhinLOGOfooter.svg" class="mx-auto d-block">
                    </div>
                </div>
                <!-- Other action buttons -->
                <div class="col-md-4 col-sm-2 col-xs-6">
                    <a href="#" class="footer-link-title">Contact</a>
                    <a href="https://github.com/adtimokhin/" target="_blank" class="footer-link">GitHub</a>
                    <a href="https://www.linkedin.com/in/aleksandr-timokhin-5300361b6" target="_blank"
                        class="footer-link">LinkedIn</a>
                    <a href="https://www.instagram.com/adtimokhin/" target="_blank" class="footer-link">Instagram</a>
                </div>


                <div class="col-md-4 col-sm-3 col-xs-6">
                    <a href="#" class="footer-link-title">Terms & policy</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        var coll = document.getElementsByClassName("extra-section");
        var i;

        for (i = 0; i < coll.length; i++) {
            coll[i].addEventListener("click", function () {
                this.classList.toggle("active");
                var content = this.nextElementSibling;
                if (content.style.display === "block") {
                    content.style.display = "none";
                } else {
                    content.style.display = "block";
                }
            });
        }
    </script>

</body>

</html>